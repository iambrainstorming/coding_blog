<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Iambrainstorming Blog</title>
    <meta name="robots" content="noindex">


    <!-- Custom HTML head -->
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">

    <link rel="icon" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->

    <!-- MathJax -->
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="home.html"><strong aria-hidden="true">1.</strong> Profile</a></li><li class="chapter-item expanded affix "><li class="part-title">Rust Programming</li><li class="chapter-item expanded "><a href="parsing_xpath.html"><strong aria-hidden="true">2.</strong> Parsing with XPath in Rust</a></li><li class="chapter-item expanded "><a href="rust/one_wallet_app.html"><strong aria-hidden="true">3.</strong> One wallet for all your signing needs</a></li><li class="chapter-item expanded "><a href="rust/rust_workspace.html"><strong aria-hidden="true">4.</strong> Rust Workspace</a></li><li class="chapter-item expanded "><a href="js-in-rust/js-in-rust.html"><strong aria-hidden="true">5.</strong>  How to call javascript in rust using boa-engine and esbuild?</a></li><li class="chapter-item expanded affix "><li class="part-title">Leptos</li><li class="chapter-item expanded "><a href="leptos/leptos_error_handling.html"><strong aria-hidden="true">6.</strong> Error handling in leptos</a></li><li class="chapter-item expanded "><a href="leptos/pagination.html"><strong aria-hidden="true">7.</strong> Pagination with Leptos</a></li><li class="chapter-item expanded affix "><li class="part-title">Libp2p</li><li class="chapter-item expanded "><a href="libp2p/tutoral.html"><strong aria-hidden="true">8.</strong> Building Blocks of libp2p</a></li><li class="chapter-item expanded affix "><li class="part-title">Shivarthu</li><li class="chapter-item expanded "><a href="shivarthu/tyranny_of_the_majority.html"><strong aria-hidden="true">9.</strong> Tyranny of the Majority, Minority, Representatives, Shareholders and Democratic trilemma</a></li><li class="chapter-item expanded "><a href="shivarthu/simple_majority_and_super_majority.html"><strong aria-hidden="true">10.</strong> Simple Majority vs Super Majority</a></li><li class="chapter-item expanded "><a href="shivarthu/consensus_price_discovery.html"><strong aria-hidden="true">11.</strong> Rationality based Price Discovery Exchange</a></li><li class="chapter-item expanded affix "><li class="part-title">IPFS</li><li class="chapter-item expanded "><a href="4everland/4everland_api.html"><strong aria-hidden="true">12.</strong> 4everland</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="4everland/4ever_security_token.html"><strong aria-hidden="true">12.1.</strong> 4ever security token</a></li><li class="chapter-item expanded "><a href="4everland/upload_files_safely.html"><strong aria-hidden="true">12.2.</strong> Upload files safely</a></li><li class="chapter-item expanded "><a href="4everland/custom_policy.html"><strong aria-hidden="true">12.3.</strong> Custom Policy</a></li><li class="chapter-item expanded "><a href="4everland/rust_sts.html"><strong aria-hidden="true">12.4.</strong> Rust sts</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Linux</li><li class="chapter-item expanded "><a href="linux/Offline_centric_apps.html"><strong aria-hidden="true">13.</strong> Offline Centric Apps</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="linux/firejail.html"><strong aria-hidden="true">13.1.</strong> Firejail</a></li><li class="chapter-item expanded "><a href="linux/appimage.html"><strong aria-hidden="true">13.2.</strong> AppImage</a></li><li class="chapter-item expanded "><a href="linux/libp2p.html"><strong aria-hidden="true">13.3.</strong> Full Stack rust-libp2p apps, with Wasm and WebRTC</a></li></ol></li><li class="chapter-item expanded "><a href="rust/helix-editor.html"><strong aria-hidden="true">14.</strong> Helix editor</a></li><li class="chapter-item expanded "><a href="rust/helix-commands.html"><strong aria-hidden="true">15.</strong> Helix editor commands</a></li><li class="chapter-item expanded "><a href="rust/zellij.html"><strong aria-hidden="true">16.</strong> Zellij</a></li><li class="chapter-item expanded "><a href="rust/redox-os.html"><strong aria-hidden="true">17.</strong> Redox OS</a></li><li class="chapter-item expanded "><a href="linux/executable.html"><strong aria-hidden="true">18.</strong> Executable</a></li><li class="chapter-item expanded affix "><li class="part-title">IPFS</li><li class="chapter-item expanded "><a href="rust/ipfs.html"><strong aria-hidden="true">19.</strong> Hard time with IPFS</a></li><li class="chapter-item expanded affix "><li class="part-title">Hosting server</li><li class="chapter-item expanded "><a href="hosting/podman.html"><strong aria-hidden="true">20.</strong> Podman Tutorial</a></li><li class="chapter-item expanded "><a href="hosting/container_file.html"><strong aria-hidden="true">21.</strong> Podman Build</a></li><li class="chapter-item expanded affix "><li class="part-title">Shortcuts</li><li class="chapter-item expanded "><a href="linux/line_numbers.html"><strong aria-hidden="true">22.</strong> Line numbers</a></li><li class="chapter-item expanded affix "><li class="part-title">Broadband Share</li><li class="chapter-item expanded "><a href="broadband_share/broadband_share_idea.html"><strong aria-hidden="true">23.</strong> Sharing Broadband, Mesh Network</a></li><li class="chapter-item expanded affix "><li class="part-title">Philosophy</li><li class="chapter-item expanded "><a href="philosophy/stages_of_grief.html"><strong aria-hidden="true">24.</strong> 5 stages of grief</a></li><li class="chapter-item expanded affix "><li class="part-title">Awesome GIS</li><li class="chapter-item expanded "><a href="gis/awesome-gis.html"><strong aria-hidden="true">25.</strong> Awesome GIS</a></li><li class="chapter-item expanded affix "><li class="part-title">Python</li><li class="chapter-item expanded "><a href="python/uv.html"><strong aria-hidden="true">26.</strong> uv</a></li><li class="chapter-item expanded affix "><li class="part-title">Ubuntu</li><li class="chapter-item expanded "><a href="ubuntu/diskfix.html"><strong aria-hidden="true">27.</strong> Disk Error</a></li><li class="chapter-item expanded "><a href="linux/image-commnads.html"><strong aria-hidden="true">28.</strong> Image Handling</a></li><li class="chapter-item expanded "><a href="linux/disk_space.html"><strong aria-hidden="true">29.</strong> Disk Space</a></li><li class="chapter-item expanded affix "><li class="part-title">AI</li><li class="chapter-item expanded "><a href="ai/ollama.html"><strong aria-hidden="true">30.</strong> Ollama</a></li><li class="chapter-item expanded "><a href="linux/tts.html"><strong aria-hidden="true">31.</strong> TTS</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function (e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor"
                            title="Toggle Table of Contents" aria-label="Toggle Table of Contents"
                            aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                
                        <div id="google_translate_element"></div>
                     
                    </div>

                    <h1 class="menu-title">Iambrainstorming Blog</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/iambrainstorming/coding_blog" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                            aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="achieve-websites"><a class="header" href="#achieve-websites">Achieve Websites</a></h1>
<p><a href="https://evidence.probiquery.now.sh/">Achieve</a></p>
<p><a href="https://iambrainstorming.github.io">https://iambrainstorming.github.io</a></p>
<p><a href="https://iambrainstorming.github.io/coding_blog/">https://iambrainstorming.github.io/coding_blog/</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parsing-with-xpath-in-rust"><a class="header" href="#parsing-with-xpath-in-rust">Parsing with Xpath in rust</a></h1>
<p>You can use package: sxd-xpath</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>cargo new xml_parse
<span class="boring">}</span></code></pre></pre>
<p>In Cargo.toml</p>
<pre><code>[dependencies]
sxd-xpath="0.4.2"
sxd-document="0.3.2"
</code></pre>
<pre><pre class="playground"><code class="language-rust">use std::fs;
use sxd_document::parser;
use sxd_xpath::{evaluate_xpath, Context, Factory, Value};
fn remove_first_two_lines(input: &amp;str) -&gt; String {
    let mut lines = input.lines();
    let mut result = String::new();

    // Skip the first two lines
    lines.nth(0);
    lines.nth(0);

    for line in lines {
        result.push_str(line);
        result.push('\n');
    }

    result
}

fn get_list() {
    let file = fs::read_to_string("src/ids.xml").unwrap();
    let data = remove_first_two_lines(&amp;file);
    let package = parser::parse(&amp;data).expect("failed to parse XML");
    let document = package.as_document();

    let value = evaluate_xpath(&amp;document, "//Id");

    match value {
        Ok(Value::Nodeset(nodeset)) =&gt; {
            for node in nodeset.iter() {
                println!("{}", node.string_value());
            }
        }
        _ =&gt; {
            println!("XPath expression didn't return a nodeset");
        }
    }
}

fn main() {
    get_list();
}</code></pre></pre>
<p>ids.xml</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE eSearchResult PUBLIC "-//NLM//DTD esearch 20060628//EN" "https://eutils.ncbi.nlm.nih.gov/eutils/dtd/20060628/esearch.dtd"&gt;
&lt;div&gt;
&lt;Id&gt;37793170&lt;/Id&gt;
&lt;Id&gt;37793014&lt;/Id&gt;
&lt;Id&gt;37792757&lt;/Id&gt;
&lt;Id&gt;37792561&lt;/Id&gt;
&lt;Id&gt;37792179&lt;/Id&gt;
&lt;Id&gt;37790950&lt;/Id&gt;
&lt;Id&gt;37790689&lt;/Id&gt;
&lt;Id&gt;37790685&lt;/Id&gt;
&lt;Id&gt;37790681&lt;/Id&gt;
&lt;Id&gt;37790651&lt;/Id&gt;
&lt;Id&gt;37789937&lt;/Id&gt;
&lt;Id&gt;37789815&lt;/Id&gt;
&lt;Id&gt;37789674&lt;/Id&gt;
&lt;Id&gt;37789431&lt;/Id&gt;
&lt;Id&gt;37788598&lt;/Id&gt;
&lt;Id&gt;37788081&lt;/Id&gt;
&lt;Id&gt;37787682&lt;/Id&gt;
&lt;Id&gt;37787533&lt;/Id&gt;
&lt;Id&gt;37787338&lt;/Id&gt;
&lt;Id&gt;37787330&lt;/Id&gt;
&lt;Id&gt;37787327&lt;/Id&gt;
&lt;Id&gt;37787268&lt;/Id&gt;
&lt;Id&gt;37783146&lt;/Id&gt;
&lt;Id&gt;37781996&lt;/Id&gt;
&lt;Id&gt;37781611&lt;/Id&gt;
&lt;Id&gt;37779775&lt;/Id&gt;
&lt;Id&gt;37779596&lt;/Id&gt;
&lt;Id&gt;37779203&lt;/Id&gt;
&lt;Id&gt;37777423&lt;/Id&gt;
&lt;Id&gt;37776597&lt;/Id&gt;
&lt;Id&gt;37776007&lt;/Id&gt;
&lt;Id&gt;37774586&lt;/Id&gt;
&lt;Id&gt;37774576&lt;/Id&gt;
&lt;Id&gt;37773778&lt;/Id&gt;
&lt;Id&gt;37773541&lt;/Id&gt;
&lt;Id&gt;37772835&lt;/Id&gt;
&lt;Id&gt;37772621&lt;/Id&gt;
&lt;Id&gt;37771545&lt;/Id&gt;
&lt;Id&gt;37771101&lt;/Id&gt;
&lt;Id&gt;37770849&lt;/Id&gt;
&lt;Id&gt;37770282&lt;/Id&gt;
&lt;Id&gt;37768948&lt;/Id&gt;
&lt;Id&gt;37768533&lt;/Id&gt;
&lt;Id&gt;37768482&lt;/Id&gt;
&lt;Id&gt;37768298&lt;/Id&gt;
&lt;Id&gt;37766883&lt;/Id&gt;
&lt;Id&gt;37766376&lt;/Id&gt;
&lt;Id&gt;37766316&lt;/Id&gt;
&lt;Id&gt;37766298&lt;/Id&gt;
&lt;Id&gt;37765198&lt;/Id&gt;
&lt;/div&gt;
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="signing-transactions-with-another-secure-app"><a class="header" href="#signing-transactions-with-another-secure-app">Signing transactions with another secure app</a></h1>
<p><a href="https://substrate.stackexchange.com/questions/10156/signing-transactions-with-another-secure-app">Link</a></p>
<p>If we make an Android dapp, can't we use Android <a href="https://developer.android.com/training/basics/intents/sending">intents</a> to sign a transaction in another Android wallet app that supports receiving data through intents? We can pass message and public key in the intent (e.g. using <a href="https://github.com/paritytech/subxt/blob/d7124b56f7e7ed4cba1f05cdb38a8fe48eebf898/examples/wasm-example/src/routes/signing.rs">subxt</a>) , and wallet makes transaction. Will there be any security issues? Though we can't connect the wallet to get the public key, we can just copy the public key from the wallet and paste it on the dapp, to get the dapp UI for the public key.</p>
<p>Another approach could involve creating a trusted <a href="https://github.com/tauri-apps/tauri/discussions/2751">server apps</a> responsible for handling transactions and securely storing private keys or seeds. Authentication mechanisms can be implemented to ensure that only trusted applications on the computer can access the server API. This approach effectively separates the authentication logic from the dapp itself, similar to browser extensions wallet, and can also be utilized on desktop systems where "intents" are not available.</p>
<p>Here, two passwords can be utilized: one for communication between the Dapp and the server, which the Dapp can interact with, here <a href="https://docs.rs/libotp/latest/libotp/">one time password</a> can be used for more security, also you don't need to memorize the password, and another password for signing transactions, similar to how MetaMask or the Polkadot.js extension wallet operates, where only the server wallet app can interact with this password.</p>
<p>For dapps that you trust or low stake transaction (e.g. your wallet just have a very small amount of money), you can allow automatic approval of signing transaction through API using ui of dapps, whereas for an untrusted dapp you need to approve the transaction in the wallet. This will improve user experience. You can set the desired security in wallet app.</p>
<p>You can also use the wallet for transacting <a href="https://www.toptal.com/ethereum/one-click-login-flows-a-metamask-tutorial">web2 apps</a>.</p>
<blockquote>
<p>One wallet for all your signing needs.</p>
</blockquote>
<h2 id="leptos"><a class="header" href="#leptos">Leptos</a></h2>
<p>You can use <a href="https://github.com/leptos-rs/leptos">leptos</a> for dapp with tauri.</p>
<p>Isomorphic: Leptos provides primitives to write isomorphic server functions, i.e., functions that can be called with the “same shape” on the client or server, but only run on the server. This means you can write your server-only logic (database requests, authentication etc.) alongside the client-side components that will consume it, and call server functions as if they were running in the browser, without needing to create and maintain a separate REST or other API.</p>
<p><a href="https://docs.rs/leptos_actix/latest/leptos_actix/">Actix in leptos</a></p>
<h2 id="one-time-password"><a class="header" href="#one-time-password">One time password</a></h2>
<pre><code> https://docs.rs/libotp/latest/libotp/
</code></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use libotp::{totp, validate_totp};

const TOTP_STEP: u64 = 30;
const OTP_DIGITS: u32 = 8;

fn check_user_otp(user: User, guess: u32) -&gt; Option&lt;bool&gt; {
   // get the shared secret from some database.
   let secret = user.get_totp_secret();

   validate_totp(guess, 1, secret, OTP_DIGITS, TOTP_STEP, 0)
}

fn get_user_otp(user: User) -&gt; Option&lt;u32&gt; {
   // get shared secret
   let secret = user.get_totp_secret();

   totp(secret, OTP_DIGITS, TOTP_STEP, 0)
}
<span class="boring">}</span></code></pre></pre>
<h2 id="signing-remotely"><a class="header" href="#signing-remotely">Signing remotely</a></h2>
<p><a href="https://github.com/paritytech/subxt/issues/1196">Discussion</a></p>
<p>Yes, you can use <a href="https://docs.rs/subxt/latest/subxt/tx/struct.PartialExtrinsic.html#method.signer_payload">signer_payload</a> but you need construct a PartialExtrinsic</p>
<p>Example:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    let tx = node_runtime::tx().preimage().note_preimage(vec![0u8]);
    let partial_extrinsic = api
        .tx()
        .create_partial_signed(&amp;tx, &amp;alice.public_key().into(), Default::default())
        .await
        .unwrap();

    // Get the signer payload.
    let signer_payload = partial_extrinsic.signer_payload();
    // Sign it (possibly externally).
    let signature = alice.sign(&amp;signer_payload);
    // Use this to build a signed extrinsic.
    let extrinsic = partial_extrinsic
        .sign_with_address_and_signature(&amp;alice.public_key().into(), &amp;signature.into());

    // And now submit it.
    extrinsic
        .submit_and_watch()
        .await
        .unwrap()
        .wait_for_finalized_success()
        .await
        .unwrap();
<span class="boring">}</span></code></pre></pre>
<h2 id="building-a-cryptowallet-in-rust"><a class="header" href="#building-a-cryptowallet-in-rust">Building a cryptowallet in rust</a></h2>
<p><a href="https://tms-dev-blog.com/build-a-crypto-wallet-using-rust/">Website</a></p>
<p><a href="https://github.com/tmsdev82/rust-eth-crypto-wallet-tutorial">Github</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-workspace"><a class="header" href="#rust-workspace">Rust workspace</a></h1>
<p>Sure! Let's create a simple example to demonstrate how to build a specific package in a Cargo workspace.</p>
<ol>
<li><strong>Set up a Cargo workspace</strong>:
<ul>
<li>Create a new directory for your workspace.</li>
<li>Inside this directory, create a <code>Cargo.toml</code> file for the workspace.</li>
<li>Create subdirectories for each package.</li>
</ul>
</li>
</ol>
<p>Here’s an example structure:</p>
<pre><code>my_workspace/
│
├── Cargo.toml
├── package_a/
│   ├── Cargo.toml
│   └── src/
│       └── main.rs
└── package_b/
    ├── Cargo.toml
    └── src/
        └── main.rs
</code></pre>
<ol start="2">
<li><strong>Workspace <code>Cargo.toml</code></strong>:</li>
</ol>
<p>In the root of your workspace (<code>my_workspace/Cargo.toml</code>):</p>
<pre><code class="language-toml">[workspace]
members = [
    "package_a",
    "package_b",
]
</code></pre>
<ol start="3">
<li><strong>Package <code>Cargo.toml</code> files</strong>:</li>
</ol>
<p>For <code>package_a</code> (<code>my_workspace/package_a/Cargo.toml</code>):</p>
<pre><code class="language-toml">[package]
name = "package_a"
version = "0.1.0"
edition = "2021"

[dependencies]
</code></pre>
<p>For <code>package_b</code> (<code>my_workspace/package_b/Cargo.toml</code>):</p>
<pre><code class="language-toml">[package]
name = "package_b"
version = "0.1.0"
edition = "2021"

[dependencies]
</code></pre>
<ol start="4">
<li><strong>Main.rs files</strong>:</li>
</ol>
<p>For <code>package_a</code> (<code>my_workspace/package_a/src/main.rs</code>):</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!("Hello from package_a!");
}</code></pre></pre>
<p>For <code>package_b</code> (<code>my_workspace/package_b/src/main.rs</code>):</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!("Hello from package_b!");
}</code></pre></pre>
<ol start="5">
<li><strong>Building a specific package</strong>:</li>
</ol>
<p>To build only <code>package_a</code>, navigate to the workspace root (<code>my_workspace</code>) and run:</p>
<pre><code class="language-sh">cargo build -p package_a --release
</code></pre>
<p>This command will compile only <code>package_a</code> in release mode, ignoring <code>package_b</code>. You should see output indicating that <code>package_a</code> is being built and optimized.</p>
<p>Similarly, to build only <code>package_b</code>, use:</p>
<pre><code class="language-sh">cargo build -p package_b --release
</code></pre>
<p>This setup shows how to organize a Cargo workspace and build specific packages within it using the <code>-p</code> flag.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-call-javascript-in-rust-using-boa-engine-and-esbuild"><a class="header" href="#how-to-call-javascript-in-rust-using-boa-engine-and-esbuild">How to call javascript in rust using boa-engine and esbuild?</a></h1>
<h2 id="folder"><a class="header" href="#folder">Folder</a></h2>
<p>Folder for esbuild</p>
<p>tests/modules/package.js</p>
<h2 id="esbuild"><a class="header" href="#esbuild">Esbuild</a></h2>
<p>esbuild_tests.js</p>
<pre><code class="language-js">import { build } from "esbuild";
import { polyfillNode } from "esbuild-plugin-polyfill-node";

build({
  entryPoints: ["package.js"],
  bundle: true,
  outfile: "tests/modules/package.js",
  format: "esm",
  // sourcemap: 'inline',
  minify: true,
  plugins: [polyfillNode()],
}).catch(() =&gt; process.exit(1));

</code></pre>
<h2 id="node-packages"><a class="header" href="#node-packages">Node packages</a></h2>
<pre><code class="language-bash">yarn add esbuild
yarn add esbuild-plugin-polyfill-node
</code></pre>
<h2 id="packagejson"><a class="header" href="#packagejson">package.json</a></h2>
<pre><code class="language-json">"scripts": {
  "esbuild-test": "node esbuild_tests.js"
}
</code></pre>
<h2 id="folders-for-js"><a class="header" href="#folders-for-js">Folders for js</a></h2>
<p>js-api/hello.ts</p>
<pre><code class="language-js">export function helloWorld(): String {
  return "Hello, world!";
}
</code></pre>
<p>package.js</p>
<pre><code class="language-js">import { helloWorld } from "./js-api/hello";

export { helloWorld };
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>https://github.com/boa-dev/boa/blob/main/examples/src/bin/modules.rs</p>
<h2 id="imports"><a class="header" href="#imports">Imports</a></h2>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::env;
use std::path::PathBuf;
use std::{error::Error, path::Path, rc::Rc};

use boa_engine::{
    builtins::promise::PromiseState, js_string, module::SimpleModuleLoader, Context, JsError,
    JsNativeError, JsValue, Module, NativeFunction,
};
use boa_parser::Source;
<span class="boring">}</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span> let root = env::current_dir().unwrap();
 println!("Project root: {:?}", root);

 // Build path to package.js
 let js_file_path: PathBuf = root.parent().unwrap().join("tests/modules/package.js");
 println!("JS file path: {:?}", js_file_path);

 let path: &amp;Path = js_file_path.as_path();

 println!("{:?}", path);

 let source = Source::from_filepath(path).unwrap();

 let module_pathbuf = root.parent().unwrap().join("tests/modules");

 let module_path: &amp;Path = module_pathbuf.as_path();

 println!("{:?}", module_path);

 // // println!("source: {:?}", source);
 let loader = Rc::new(SimpleModuleLoader::new(module_path).unwrap());
 // // Instantiate the execution context
 let context = &amp;mut Context::builder()
     .module_loader(loader.clone())
     .build()
     .unwrap(); // // Add the runtime intrisics
 let module = Module::parse(source, None, context).unwrap();

 loader.insert(
     Path::new(module_path)
         .canonicalize()
         .unwrap()
         .join("main.mjs"),
     module.clone(),
 );
 let promise_result = module
     // Initial load that recursively loads the module's dependencies.
     // This returns a `JsPromise` that will be resolved when loading finishes,
     // which allows async loads and async fetches.
     .load(context)
     .then(
         Some(
             NativeFunction::from_copy_closure_with_captures(
                 |_, _, module, context| {
                     // After loading, link all modules by resolving the imports
                     // and exports on the full module graph, initializing module
                     // environments. This returns a plain `Err` since all modules
                     // must link at the same time.
                     module.link(context)?;
                     Ok(JsValue::undefined())
                 },
                 module.clone(),
             )
             .to_js_function(context.realm()),
         ),
         None,
         context,
     )
     .then(
         Some(
             NativeFunction::from_copy_closure_with_captures(
                 // Finally, evaluate the root module.
                 // This returns a `JsPromise` since a module could have
                 // top-level await statements, which defers module execution to the
                 // job queue.
                 |_, _, module, context| Ok(module.evaluate(context).into()),
                 module.clone(),
             )
             .to_js_function(context.realm()),
         ),
         None,
         context,
     );

 // Very important to push forward the job queue after queueing promises.
 context.run_jobs();

 match promise_result.state() {
     PromiseState::Pending =&gt; {
         println!("Module can't load");
     }
     PromiseState::Fulfilled(v) =&gt; {
         assert_eq!(v, JsValue::undefined());
     }
     PromiseState::Rejected(err) =&gt; {
         println!(
             "{:?}",
             JsError::from_opaque(err).try_native(context).unwrap()
         );
     }
 }

 // We can access the full namespace of the module with all its exports.
 let namespace = module.namespace(context);

 let hello_world_namespace = namespace.get(js_string!("helloWorld"), context).unwrap();
 let hello_world = hello_world_namespace
     .as_callable()
     .ok_or_else(|| JsNativeError::typ().with_message("mix export wasn't a function!"))
     .unwrap();
 let result = hello_world
     .call(&amp;JsValue::undefined(), &amp;[], context)
     .unwrap();

 println!("result = {}", result.display());

<span class="boring">}</span></code></pre></pre>
<pre><code class="language-bash">cargo test -- --nocapture
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="error-handling-in-leptos"><a class="header" href="#error-handling-in-leptos">Error handling in leptos</a></h1>
<p>Check input is number and is less than 20</p>
<p>Using thiserror crate for error handling</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use leptos::*;
use serde::{Deserialize, Serialize};
use thiserror::Error;

#[derive(Error, Debug, Clone, Deserialize, Serialize)]
pub enum NumberError {
    #[error("Number getter than 20")]
    NumberGreater20,
    #[error("Error parsing to number: `{0}`")]
    ParseIntError(String),
}

#[component]
pub fn NumericInput() -&gt; impl IntoView {
    let (value, set_value) = create_signal(Ok(0));

    let on_input = move |ev| {
        let result_value = event_target_value(&amp;ev).parse::&lt;i32&gt;();
        let result = match result_value {
            Ok(parsed_value) =&gt; {
                if parsed_value &gt; 20 {
                    Err(NumberError::NumberGreater20)
                } else {
                    Ok(parsed_value)
                }
            }
            Err(value) =&gt; Err(NumberError::ParseIntError(value.to_string())),
        };
        set_value(result)
    };

    view! {
        &lt;h1&gt;"Error Handling"&lt;/h1&gt;
        &lt;label&gt;
            "Type a number less than than 20 (or something that's not a number!)"
            &lt;input type="number" on:input=on_input/&gt;
            &lt;ErrorBoundary
                // the fallback receives a signal containing current errors
                fallback=|errors| view! {
                    &lt;div class="error"&gt;
                        &lt;p&gt;" Errors: "&lt;/p&gt;
                        // we can render a list of errors as strings, if we'd like
                        &lt;ul&gt;
                            {move || errors.get()
                                .into_iter()
                                .map(|(_, e)| view! { &lt;li&gt;{e.to_string()}&lt;/li&gt;})
                                .collect_view()
                            }
                        &lt;/ul&gt;
                    &lt;/div&gt;
                }
            &gt;
                &lt;p&gt;"You entered " &lt;strong&gt;{value}&lt;/strong&gt;&lt;/p&gt;
                // If you don't want to display the value:
                // The way that ErrorBoundary works is by detecting whether the Err(_) branch of a result is rendered, 
                // so something does have to be displayed. 
                // However, it doesn't necessarily need to be value — you can map the original to a Result&lt;(), E&gt; for example:
                // {move || value.get().map(|_| ())}
            &lt;/ErrorBoundary&gt;
        &lt;/label&gt;
    }
}

<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pagination-with-leptos"><a class="header" href="#pagination-with-leptos">Pagination with leptos</a></h1>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use leptos::prelude::*;
use leptos::ev::SubmitEvent;
use serde::{Deserialize, Serialize};
use leptos::task::spawn_local;
use leptos::html;


#[derive(Serialize, Deserialize, Clone)]
struct PaginatedPosts {
    posts: Vec&lt;u64&gt;,
    current_page: u64,
    total_pages: u64,
}

#[component]
pub fn ViewPositiveExternality() -&gt; impl IntoView {
    let (page, set_page) = signal(1);
    let (page_size, set_page_size) = signal(10);
    let (posts, set_posts) = signal::&lt;Option&lt;Vec&lt;u64&gt;&gt;&gt;(None);
    let (total_posts_length, set_total_posts_length) = signal(0);
    let (total_pages, set_total_pages) = signal(0);
    let input_element_page: NodeRef&lt;html::Input&gt; = NodeRef::new();

    let input_element_page_size : NodeRef&lt;html::Input&gt; = NodeRef::new();

    // Fetch paginated posts when `page` or `page_size` changes
    Effect::new(move |_| {
        let user = "example_account_id".to_string(); // Replace with actual user ID
        let page = page();
        let page_size = page_size();

        spawn_local(async move {
            let result = paginate_posts_by_address(user, page, page_size).await;
            match result {
                Ok((Some(posts), total_length)) =&gt; {
                    set_posts.set(Some(posts.clone()));
                    set_total_posts_length.set(total_length);
                    set_total_pages.set((total_length + page_size - 1) / page_size);
                }
                _ =&gt; {
                    set_posts.set(None);
                    set_total_posts_length.set(0);
                    set_total_pages.set(0);
                }
            }
        });
    });

    // Handle page navigation
    let go_to_page = move |new_page: u64| {
        if new_page &gt; 0 &amp;&amp; new_page &lt;= total_pages() {
            set_page.set(new_page);
        }
    };

    // Handle page size change
    let update_page = move |ev: SubmitEvent| {
        ev.prevent_default();
        let input = input_element_page.get().expect("&lt;input&gt; should be mounted").value();
        gloo::console::log!(input.clone());
        let new_page = input.parse::&lt;u64&gt;().unwrap_or(1);
        set_page.set(new_page); // Reset to the first page
    };

        // Handle page size change
        let update_page_size = move |ev: SubmitEvent| {
            ev.prevent_default();
            let input = input_element_page_size.get().expect("&lt;input&gt; should be mounted").value();
            let new_size = input.parse::&lt;u64&gt;().unwrap_or(10);
            set_page_size.set(new_size);
            set_page.set(1); // Reset to the first page
        };

    view! {
        &lt;div class="p-4 space-y-4"&gt;
            &lt;h1 class="text-2xl font-bold"&gt;Paginated Posts&lt;/h1&gt;

            // Display posts
            &lt;div class="space-y-2"&gt;
                {move || match posts() {
                    Some(posts) =&gt; {
                        posts
                            .into_iter()
                            .map(|post| {
                                view! { &lt;div class="p-2 border rounded"&gt;{post}&lt;/div&gt; }
                            })
                            .collect_view()
                            .into_any()
                    }
                    None =&gt; view! { &lt;div&gt;No posts found.&lt;/div&gt; }.into_any(),
                }}

            &lt;/div&gt;

            // Pagination controls
            &lt;div class="flex items-center justify-between"&gt;
                &lt;button
                    class="px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50"
                    on:click=move |_| go_to_page(page() - 1)
                    disabled=move || page() &lt;= 1
                &gt;
                    "Previous"
                &lt;/button&gt;
                &lt;span class="text-gray-700"&gt;
                    "Page "{page}" of "{total_pages}" (Total Posts: "{total_posts_length}")"
                &lt;/span&gt;
                &lt;button
                    class="px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50"
                    on:click=move |_| { go_to_page(page() + 1) }
                    disabled=move || { page() &gt;= total_pages() }
                &gt;
                    "Next"
                &lt;/button&gt;
            &lt;/div&gt;

           // Page selector
            &lt;form on:submit=update_page class="flex items-center space-x-2"&gt;
                &lt;label class="text-gray-700"&gt;Page Number:&lt;/label&gt;
                &lt;input
                    type="number"
                    class="p-2 border rounded"
                    node_ref=input_element_page
                    value=move || { page().to_string() }
                /&gt;
                &lt;button type="submit" class="px-4 py-2 bg-green-500 text-white rounded"&gt;
                    "Update"
                &lt;/button&gt;
            &lt;/form&gt;
            &lt;br/&gt;

               // Page size selector
            &lt;form on:submit=update_page_size class="flex items-center space-x-2"&gt;
                &lt;label class="text-gray-700"&gt;Page Size:&lt;/label&gt;
                &lt;input
                    type="number"
                    class="p-2 border rounded"
                    node_ref=input_element_page_size
                    value=move || {page_size().to_string()}
                /&gt;
                &lt;button type="submit" class="px-4 py-2 bg-green-500 text-white rounded"&gt;
                    Update
                &lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    }
}

// Mock API function (replace with your actual API call)
async fn paginate_posts_by_address(
    user: String,
    page: u64,
    page_size: u64,
) -&gt; Result&lt;(Option&lt;Vec&lt;u64&gt;&gt;, u64), String&gt; {
    // Simulate an API call
    let all_posts = (1..=100).collect::&lt;Vec&lt;u64&gt;&gt;();
    let start = (page - 1) * page_size;
    let end = start + page_size;
    let posts = all_posts.get(start as usize..end as usize).map(|s| s.to_vec());
    let all_posts_length = all_posts.len() as u64;
    Ok((posts, all_posts_length))
}

<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="building-blocks-of-libp2p"><a class="header" href="#building-blocks-of-libp2p">Building Blocks of libp2p</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Sbd7odDFT1w?si=rbC23G-GNeca9M7J" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a href="https://libp2p.io/implementations/">https://libp2p.io/implementations/</a></p>
<h2 id="transports"><a class="header" href="#transports">Transports</a></h2>
<p>Enables libp2p move bytes from A to B</p>
<ul>
<li>Transports are core abstraction of libp2p
<ul>
<li>Enable connection establishment</li>
<li>Dialing and listening</li>
</ul>
</li>
<li>Current Transports:
<ul>
<li>TCP</li>
<li>QUIC</li>
<li>WebSockets</li>
</ul>
</li>
<li>Experimental:
<ul>
<li>WebRTC</li>
<li>Bluetooth</li>
</ul>
</li>
</ul>
<h2 id="secure-channels"><a class="header" href="#secure-channels">Secure Channels</a></h2>
<ul>
<li>Peer authentication and transport encryption</li>
<li>Several security protocols supported
<ul>
<li>Noise</li>
<li>TLS 1.3</li>
</ul>
</li>
</ul>
<h2 id="multiplexing"><a class="header" href="#multiplexing">Multiplexing</a></h2>
<p>Multiplexing a connection is basically taking a connection and running a bunch of vitrual connections on top of that single connection.</p>
<ul>
<li>Establishing a P2P connection may not be cheap or easy (e.g. hole punching, negotiation, handshake, etc.)</li>
<li>Re-use established connections for serveral protocols
<ul>
<li>Applications can leverage already established connections.</li>
</ul>
</li>
<li>Several implementation of multiplexers available:
<ul>
<li>Language specific libraries for stream multiplex (Yamux, Mplex)</li>
<li>Transport protocol native mulitplexing capabilites (QUIC)</li>
</ul>
</li>
</ul>
<h2 id="nat-traversal"><a class="header" href="#nat-traversal">NAT Traversal</a></h2>
<p>Why overcome NATs and Firewalls? Most networks are not actually data centers well connected, but they are in home setting where they are behind a NAT or firewall.</p>
<h3 id="nov-22nd-2019-63-of-ipfs-dht-we-couldnt-reach"><a class="header" href="#nov-22nd-2019-63-of-ipfs-dht-we-couldnt-reach">Nov 22nd 2019, 63% of IPFS DHT we couldn't reach</a></h3>
<p>Motivation: IPFS DHT crawl measurements (Nov 22nd 2019) showed that out of 4244 peers, 2754 were undialable (~63%)</p>
<p>Goal:</p>
<ul>
<li>Achieve global direct connectivity in hetergeneous networks</li>
<li>No dependancy on central infrastructure</li>
</ul>
<p>Added in 2021</p>
<ul>
<li>Transport Protocol: TCP, QUIC</li>
<li>Relay Protocol (TURN-like): Circuit Relay V2</li>
<li>Signaling Protocol: Direct Connection Upgrade through Relay (DCUtR)</li>
<li>STUN like Protocol: AutoNAT</li>
</ul>
<p>Next up: use this in WebRTC</p>
<h2 id="peer-discovery"><a class="header" href="#peer-discovery">Peer Discovery</a></h2>
<ul>
<li>Discover random peers (supporting certain services)</li>
<li>Implementations
<ul>
<li>mDNS (Multicast DNS)</li>
<li>Rendezvous</li>
<li>GossipSub peer exchange</li>
</ul>
</li>
</ul>
<p>Routing - Kademlia DHT</p>
<ul>
<li>Distributed hash table</li>
<li>Based on the Kademlia paper</li>
<li>Operation:
<ul>
<li>FIND_NODE</li>
<li>GET_VALUE and PUT_VALUE</li>
<li>GET_PROVIDER and PUT_PROVIDER</li>
</ul>
</li>
</ul>
<p>Paper:
<a href="https://pdos.csail.mit.edu/~petar/papers/maymounkov-kademlia-lncs.pdf">Kademlia: A peer-to-peer Information System based on the XOR Metric</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1QdKhNpsj8M?si=LrYiw2pGoRq2HzfV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="messaging---gossipsub"><a class="header" href="#messaging---gossipsub">Messaging - GossipSub</a></h2>
<ul>
<li>Publish and subscribe</li>
<li>Brokerless, self-regulating, no global knowledge</li>
<li>Eager push and lazy pull</li>
</ul>
<p><a href="https://arxiv.org/abs/2007.02754">GossipSub: Attack-Resilient Message Propagation in the Filecoin and ETH2.0 Networks</a></p>
<h2 id="data-exchange---bitswap"><a class="header" href="#data-exchange---bitswap">Data Exchange - Bitswap</a></h2>
<ul>
<li>Message-oriented protocol</li>
<li>Exchange blocks of data
<ul>
<li>Requests
<ul>
<li>WANT-HAVE</li>
<li>WANT-BLOCK</li>
<li>CANCEL</li>
</ul>
</li>
</ul>
</li>
<li>Responses
<ul>
<li>HAVE</li>
<li>BLOCK</li>
<li>DONT_HAVE</li>
</ul>
</li>
</ul>
<p><a href="https://research.protocol.ai/publications/accelerating-content-routing-with-bitswap-a-multi-path-file-transfer-protocol-in-ipfs-and-filecoin/delarocha2021.pdf">Accelerating Content Routing with Bitswap: A multi-path file transfer protocol in IPFS and Filecoin</a></p>
<h2 id="freenet-explained"><a class="header" href="#freenet-explained">Freenet Explained</a></h2>
<p><a href="https://freenet.org/">https://freenet.org/</a></p>
<p><a href="https://github.com/freenet/freenet-core">https://github.com/freenet/freenet-core</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/yBtyNIqZios?si=juqvpeAW3o7Xeg6F" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="tyranny-of-the-majority"><a class="header" href="#tyranny-of-the-majority">Tyranny of the Majority</a></h1>
<p>Tyranny of the majority is a concept that highlights a potential flaw in democratic systems, where the majority, in pursuit of its own interests, oppresses or neglects the rights and interests of minority groups. John Stuart Mill, in his 1859 book "On Liberty," argued that this kind of tyranny could be as oppressive as the rule of a despot. To overcome tyranny of the majority, various strategies and mechanisms can be employed, as illustrated in the provided examples:</p>
<ol>
<li><strong>Centralization Excess:</strong>
<ul>
<li><strong>Scenario:</strong> In a federal system, the centralized power of a federation makes decisions that should be handled at the local level. This goes against the principle of subsidiarity, which advocates that decisions should be made at the most local level possible.</li>
<li><strong>Solution:</strong> To overcome this tyranny of the majority, several measures can be taken.
<ul>
<li><strong>Concurrent Majority:</strong> Implement a concurrent majority mechanism where both the federal and local authorities must agree on certain matters to ensure that local interests are adequately represented.</li>
<li><strong>Supermajority Rules:</strong> Require a supermajority vote for decisions that significantly affect local jurisdictions, making it harder for the majority to impose their will without considering minority interests.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>Example:</strong> Consider a federal system where the majority at the federal level wants to impose a uniform policy on education for all states. This decision might neglect the unique needs and preferences of individual states. To overcome the tyranny of the majority, a concurrent majority mechanism could be established, requiring both the federal government and individual states to agree on significant education policy changes, ensuring that local interests are protected.</p>
<ol start="2">
<li><strong>Abandonment of Rationality:</strong></li>
</ol>
<ul>
<li><strong>Scenario:</strong> When decisions are based solely on numerical majorities without considering their correctness or excellence. In such cases, decisions may be arbitrary and not necessarily in the best interests of the society as a whole.</li>
<li><strong>Solution:</strong> To avoid the tyranny of the majority based on irrational decisions, several steps can be taken:
<ul>
<li><strong>Public Consultation:</strong> Involve the public in the decision-making process by seeking their input, which can help ensure a more rational decision-making process.</li>
<li><strong>Technical Consulting Bodies:</strong> Establish expert panels or consulting bodies to provide informed and unbiased advice on complex issues.</li>
<li><strong>Judicial Review:</strong> After a decision is made, it can be subjected to judicial review to ensure it complies with the rule of law and constitutional principles. Courts can declare decisions null and void if they are found to be irrational or unconstitutional.</li>
</ul>
</li>
</ul>
<p><strong>Example:</strong> Imagine a scenario where a majority of voters support a policy that goes against scientific evidence, such as denying climate change. To overcome the tyranny of this majority, public consultations involving scientists and experts can be held to present the facts. Additionally, a legal system that allows judicial review can act as a safeguard, ensuring that decisions are rational and constitutional.</p>
<p>In both scenarios, the key is to introduce checks and balances that prevent the majority from imposing its will in a way that harms minority rights or results in irrational or arbitrary decisions. These mechanisms aim to strike a balance between majority rule and the protection of minority interests and the principles of rationality and fairness.</p>
<h1 id="tyranny-of-the-minority"><a class="header" href="#tyranny-of-the-minority">Tyranny of the Minority</a></h1>
<p>The tyranny of the minority occurs when a supermajority consensus is required for a decision, and a minority, in pursuit of its own interests, oppresses or neglects the rights and interests of the majority groups.</p>
<p><strong>Example:</strong> Creating an Ultra Low Emission Zone (ULEZ) area or controlling traffic where cars are not allowed, but a minority group of car owners opposes it. Though it is difficult to pass such a bill with a supermajority decision, the minority can create a blockage. Once the bill is passed, it becomes challenging to reverse.</p>
<h1 id="tyranny-of-representatives"><a class="header" href="#tyranny-of-representatives">Tyranny of Representatives</a></h1>
<p>The "Tyranny of Representatives" refers to a situation in which a small percentage of elected representatives gain unchecked control over the legislative process and no longer truly represent the interests or wishes of their constituents. This phenomenon can occur in democratic systems when a combination of factors allows a minority of elected officials to wield disproportionate power.</p>
<p>Here's an elaboration of this concept:</p>
<p>In a well-functioning democracy, representatives are elected to serve the best interests of their constituents. They are expected to listen to the concerns and desires of the people they represent and make decisions that reflect the will of the majority. However, the tyranny of representatives occurs when a select group of politicians, often from a particular party or faction, consolidates power to such an extent that they can disregard the needs and preferences of their constituents.</p>
<p>Several factors can contribute to this situation:</p>
<ol>
<li>
<p>Gerrymandering: Manipulative drawing of electoral districts can favor one political party over others. By creating safe districts for a particular party, a minority of voters can ensure the election of their chosen representatives, leading to unaccountable officials who don't need to cater to the broader electorate.</p>
</li>
<li>
<p>Party Polarization: When political parties become highly polarized, representatives may prioritize party loyalty over the concerns of their constituents. This can lead to policies that reflect extreme ideologies rather than the nuanced views of the population.</p>
</li>
<li>
<p>Campaign Financing: Representatives who rely heavily on special interest groups or large donors may become beholden to these interests rather than the needs of their constituents, further undermining representation.</p>
</li>
<li>
<p>Lack of Accountability: In some cases, representatives may face limited accountability due to factors like low voter turnout, lack of competition in elections (e.g., due to the use of terrible voting methods like FPTP), or insufficient checks and balances within the political system.</p>
</li>
<li>
<p>Authoritarian Governance: In some instances, representatives may develop an insatiable hunger to remain in power, which can lead them to employ authoritarian methods to consolidate and maintain their control. This can involve tactics such as surveillance, disinformation campaigns, propaganda, controlling and manipulating the media to further their interests, eroding the independence of institutions and the misuse of laws to harass dissent and opposition. By manipulating information, stifling criticism, and undermining the democratic process, these representatives prioritize their own political longevity over the well-being and rights of their constituents.</p>
</li>
</ol>
<p>When this tyranny of representatives occurs, it erodes the fundamental principles of democracy. The elected officials cease to be true representatives of the people and instead act in their own interests or those of a select few. To combat this, it is essential to implement measures such as redistricting reform, campaign finance regulations, and fostering a culture of political accountability to ensure that representatives genuinely serve the wishes of their constituents and maintain a healthy democratic system.</p>
<h2 id="eg-pollution-paradox-because-of-tyranny-of-representatives"><a class="header" href="#eg-pollution-paradox-because-of-tyranny-of-representatives">e.g. Pollution Paradox because of Tyranny of Representatives</a></h2>
<p>The "pollution paradox" is a term used to describe a situation where special interest groups or large donors from the fossil fuel industry, who often contribute to political campaigns and lobby for their interests, may have a counterintuitive impact on environmental policy. It points to a scenario in which the very industries responsible for environmental pollution, such as the fossil fuel industry, can influence political decisions in a way that appears to run counter to environmental conservation efforts.</p>
<p>Here's how the pollution paradox can be connected to the tyranny of representatives:</p>
<ol>
<li>
<p>Concentration of Power: Special interest groups and large donors from the fossil fuel industry often concentrate their financial and lobbying efforts on a select group of elected officials who are sympathetic to their interests. These representatives may receive significant campaign contributions and support from these groups, which can lead to the concentration of power in the hands of a few politicians.</p>
</li>
<li>
<p>Influence Over Decision-Making: The influence of fossil fuel interests can lead to a situation where a small group of representatives gain disproportionate control over energy and environmental policies. These representatives may prioritize the interests of the fossil fuel industry over the broader concerns of their constituents or the environment. This can result in a lack of responsiveness to the will of the people they represent.</p>
</li>
<li>
<p>Suppression of Environmental Action: The tyranny of representatives in this context can manifest as a suppression of environmental action. Elected officials heavily influenced by fossil fuel interests may resist or delay policies aimed at reducing pollution, transitioning to clean energy sources, or addressing climate change, even when there is a broad public desire for such actions.</p>
</li>
<li>
<p>Disconnect from Constituent Interests: In the pollution paradox, representatives may no longer serve the best interests of their constituents, who may desire cleaner and more sustainable energy solutions to combat pollution and environmental degradation. Instead, these representatives may prioritize the interests of the fossil fuel industry and their campaign donors.</p>
</li>
</ol>
<p>The connection between the pollution paradox and the tyranny of representatives underscores the challenges that arise when powerful interest groups exert undue influence over elected officials and policy decisions.</p>
<h1 id="tyranny-of-shareholders"><a class="header" href="#tyranny-of-shareholders">Tyranny of Shareholders</a></h1>
<p>The concept of the "tyranny of shareholders" refers to a situation in which corporations prioritize the interests of their shareholders above all other stakeholders, such as workers, suppliers, consumers, and communities. This approach to corporate governance is often associated with the doctrine of "shareholder primacy," which asserts that the primary purpose of a corporation is to generate profits and maximize shareholder value. While maximizing shareholder value is a critical aspect of corporate governance, the exclusive focus on it can lead to negative consequences for other stakeholders.</p>
<p>Here's an explanation of how the tyranny of shareholders works and its impact on various stakeholders:</p>
<ol>
<li>
<p>Workers: Shareholder primacy often leads to a relentless pursuit of cost-cutting measures to boost short-term profits. This can result in reduced wages, fewer benefits, job insecurity, and diminished job quality for workers. Companies may prioritize shareholder returns over fair compensation, job stability, and employee well-being, adversely affecting the livelihoods of their workforce.</p>
</li>
<li>
<p>Suppliers: Under the pressure to maximize shareholder value, corporations may push suppliers for lower prices, sometimes to the point of unsustainability. This can harm smaller suppliers and reduce the quality of goods or services provided, ultimately impacting the supply chain's stability.</p>
</li>
<li>
<p>Consumers: An excessive focus on shareholder value can lead to practices that prioritize short-term profit over product quality and safety. Consumers may be exposed to unsafe products or services, misleading marketing, or inadequate customer support, as the corporation prioritizes cost-cutting and profit maximization.</p>
</li>
<li>
<p>Communities: Corporations have a significant impact on the communities where they operate. When they prioritize shareholder returns at the expense of other stakeholders, it can result in adverse consequences for communities. This may include environmental degradation, reduced corporate social responsibility initiatives, or a lack of investment in local infrastructure and economic development.</p>
</li>
<li>
<p>Long-Term Growth and Innovation: Shareholder primacy can encourage a short-term mindset, as executives and boards focus on meeting quarterly earnings targets. This can hinder long-term investments in research, development, and innovation, which are essential for a company's sustained success and competitiveness in the global market.</p>
</li>
</ol>
<p>An example of the tyranny of shareholders can be seen in cases where companies engage in share buybacks, which involve using corporate funds to repurchase their own shares in the stock market. While this can boost the company's stock price, it may divert resources that could have been invested in research, employee training, infrastructure improvements, or other long-term strategies.</p>
<p>A more balanced approach to corporate governance, considering the interests of all stakeholders, can lead to sustainable and responsible business practices that benefit society as a whole rather than just a narrow group of shareholders.</p>
<h2 id="democratic-reform-trilemma-or-trade-offs"><a class="header" href="#democratic-reform-trilemma-or-trade-offs">Democratic reform trilemma or trade-offs</a></h2>
<blockquote>
<p>Trade-off: a balancing of factors all of which are not attainable at the same time.</p>
</blockquote>
<p>Democratic theorists have identified a trilemma due to the presence of three desirable characteristics of an ideal system of direct democracy, which are challenging to deliver all at once. These three characteristics are participation – widespread participation in the decision making process by the people affected; deliberation – a rational discussion where all major points of view are weighted according to evidence; and equality – all members of the population on whose behalf decisions are taken have an equal chance of having their views taken into account. Empirical evidence from dozens of studies suggests deliberation leads to better decision making.</p>
<h2 id="how-will-shivarthus-direct-democracy-solve-the-tyranny-of-the-majorityminority"><a class="header" href="#how-will-shivarthus-direct-democracy-solve-the-tyranny-of-the-majorityminority">How will Shivarthu's direct democracy solve the tyranny of the majority/minority?</a></h2>
<p><a href="https://github.com/amiyatulu/shivarthu/blob/main/docs/Shivarthu.md">Shivarthu</a></p>
<p>Suggestion:</p>
<p>Some of the voting or feedback sytem.</p>
<ol>
<li>
<p><strong>Direct Voting by Local Citizens:</strong> This method involves directly polling local citizens.</p>
</li>
<li>
<p><strong>Schelling Game Decision by Users:</strong> Users make decisions using the Schelling game.</p>
</li>
<li>
<p><strong>Voting by Representatives Elected via Proportional Approval Voting</strong>: Representatives are elected by the people through a proportional approval voting system (<a href="https://wiki.polkadot.network/docs/learn-phragmen">Sequential Phragmén</a>)</p>
</li>
<li>
<p><strong>Voting by Department Representatives with Specialized and Multidisciplinary Knowledge:</strong> Department representatives with specialized and multidisciplinary knowledge participate in the voting process.</p>
</li>
<li>
<p><strong>Providing More Voting Weight to Individuals Creating Positive Externalities:</strong> This approach assigns greater voting weight to individuals who generate <a href="https://github.com/amiyatulu/shivarthu/tree/main/pallets/positive-externality-validation">positive externalities</a>.</p>
<p>These different methods can enhance rationality and reduce centralization excess. Double approval can be implemented using these voting methods. Additionally, a discussion forum can be created where different voters can articulate the reasons for their approval or disapproval of a decision.</p>
<p>Further consideration is needed to determine when to employ a simple majority or a supermajority.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><p>Simple Majority (More than 50%):</p>
<ul>
<li>
<p><strong>Merits</strong>:</p>
<ol>
<li><strong>Ease of Decision-Making</strong>: Simple majority is straightforward and efficient for routine decisions in democratic processes, such as passing legislation or electing officials.</li>
<li><strong>Reflects Popular Will</strong>: It ensures that a decision is supported by a majority of voters or representatives, reflecting the will of the majority.</li>
<li><strong>Fosters Inclusivity</strong>: It allows for broader participation and inclusivity, as decisions are made with a relatively low threshold of support.</li>
</ol>
</li>
<li>
<p><strong>Demerits</strong>:</p>
<ol>
<li><strong>Minority Disadvantage</strong>: It can lead to the potential marginalization of minority interests or viewpoints, as decisions are made without broad consensus.</li>
<li><strong>Polarization Risk</strong>: It may encourage polarization, as politicians and parties may focus on winning the majority without considering the concerns of the minority.</li>
<li><strong>Lack of Supermajority Safeguards</strong>: It lacks the safeguards against hasty or rash decisions that supermajority requirements can provide.</li>
</ol>
</li>
</ul>
<p>Two-Third Majority (66.67% or more):</p>
<ul>
<li>
<p><strong>Merits</strong>:</p>
<ol>
<li><strong>Enhanced Stability</strong>: Requiring a two-thirds majority can provide greater stability and consensus for critical decisions, making it harder to reverse decisions hastily.</li>
<li><strong>Checks and Balances</strong>: It serves as a check against the abuse of power or major constitutional changes, ensuring that a broad consensus is needed for significant decisions.</li>
<li><strong>Protection of Minority Rights</strong>: Supermajority requirements can protect the rights and interests of minorities by preventing the majority from easily overriding them.</li>
</ol>
</li>
<li>
<p><strong>Demerits</strong>:</p>
<ol>
<li><strong>Potential Gridlock</strong>: It can lead to legislative gridlock when it's challenging to reach a two-thirds consensus, especially in highly polarized environments.</li>
<li><strong>Less Responsive</strong>: Requiring a supermajority can make decision-making slower and less responsive to urgent issues.</li>
<li><strong>Undermining Majority Will</strong>: In some cases, it might allow a minority to obstruct the will of a clear majority, potentially undermining democratic principles.</li>
</ol>
</li>
</ul>
<p>The choice between a simple majority and a two-thirds majority depends on the specific context and the goals of a decision-making process. Simple majorities are suitable for routine decisions and day-to-day governance, while supermajorities are typically reserved for significant constitutional changes, checks and balances, and situations where broad consensus is essential to ensure the stability and legitimacy of a decision.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="what-if-crypto-token-prices-are-discovered-through-consensus-of-utility-rather-than-demand-and-supply"><a class="header" href="#what-if-crypto-token-prices-are-discovered-through-consensus-of-utility-rather-than-demand-and-supply">What if crypto token prices are discovered through consensus of utility rather than demand and supply?</a></h2>
<blockquote>
<p>“The stock market is filled with individuals who know the price of everything, but the value of nothing.” — Phillip Fisher</p>
</blockquote>
<p>Scams involving cryptocurrency are extremely prevalent.
The majority of coins on the cryptocurrency market are worthless meme coins, but they nevertheless manage to dupe individuals into parting by enticing them to grow their money and making them rich in no time.
Crypto scams are currently not limited to big cities now they have even begun targeting underdeveloped villages in nations like India.</p>
<p>The issue is caused by the price being determined by the supply and demand of tokens on exchanges without considering their utility. The prices of tokens depend on how many people you manage to fool, and the scammer's ability to make a sudden spike through pump and dump.</p>
<p>Crypto scams, also negatively impact useful coins, and all currency prices move in sync, both good coins, and bad coins get dumped in a beer market.</p>
<blockquote>
<p>Bad money drives out good, so we need to eliminate the bad money.</p>
</blockquote>
<p>The price of tokens derived through demand and supply is suboptimal. It doesn't include a consensus from <a href="shivarthu/tyranny_of_the_majority.html">everyone</a>, but just the interacting party. So, they are free to produce as much as negative externality they like without any consequences.</p>
<p>Can we discover prices through consensus and using human rationality rather than speculation, increase stability of coins prices and curtail FUD? There may be some way out.</p>
<p>The score schelling game can assist in determining cryptocurrency prices in decentralized exchanges by consensus and human reason.</p>
<p>The algorithm is provided in the <a href="https://github.com/amiyatulu/shivarthu/blob/main/docs/Shivarthu.md#price-discovery-of-projects-through-score-schelling-game">following link</a>.</p>
<p>But setting an exchange using score schelling game is not without challenges. <strong>One of the problem is arbitrage</strong>. If the AMM price is lower than the market price, then people will drain all the liquidity and sell it at a higher price in the market. The solution can be the ability to withdraw after a month or have a KYC so that you can't withdraw tokens after certain limits.
Similarly, if the demand and utility of the token are more and the price is set lower, it can create a shortage, and more people will not be benefited, so, prices need to be increased through consensus.</p>
<blockquote>
<p>Another way is to tax the shit coins and subsidize the good coins based on the price discovery, and this won't impact the liquidity or create the problem of arbitrage, neither KYC is needed.
Taxing can be done using market makers like Uniswap, and taxes collected are sold at lower discovered prices to buy or collect good coins and hence plummeting the shitcoin price and good coins collected are given as subsidies while exchanging the good coins . Liquidity providers can also be incentivized with tax collected.</p>
</blockquote>
<h3 id="rationality-disinformation-and-nudge"><a class="header" href="#rationality-disinformation-and-nudge">Rationality, Disinformation and Nudge</a></h3>
<p>Only a nudge while buying from an exchange can work to many extents.
For example in real world, Adani stocks got plummeted by the Hindenburg report.</p>
<p>A decentralized cryptoexchange with a <a href="shivarthu/tyranny_of_the_majority.html">good governance</a> can provide a nudge for discovered prices, or provide research review and discussion about the advantages, disadvantages, security and application or use case of the cryptocurrency.</p>
<p><strong>An example nudge: "The price of the coin derived by decentralized experts is this. Do you want to buy the token at this price?"</strong></p>
<p>We also need to have good institutes to stop disinformation by scammers. Social media are usually a good target for online fraud.</p>
<p>We can slowly increase the complexity of exchange with passing year that includes providing liquidity at predicted prices.</p>
<h3 id="an-example-exchange"><a class="header" href="#an-example-exchange">An example exchange:</a></h3>
<p>Discovering price in crypto exchange using score Schelling game based on coin utility.</p>
<p>Bitcoin = 0.1<br />
Ethereum = 0.4<br />
Polkadot = 0.3<br />
Near = 0.2</p>
<p>Exchange:</p>
<p>2 Near = 1 Ethereum</p>
<p>To calculate the price you need to take into account:</p>
<ol>
<li>Utility of the token (Most priority)</li>
<li>Total Supply of token</li>
<li>Inflation or deflation of token</li>
<li>Demand for token</li>
</ol>
<blockquote>
<p>KYC of user, with limits to how much they can withdraw every day or within a given period of time. One can also make <a href="https://github.com/amiyatulu/shivarthu/wiki/Anonymous-Accounts-Steps">anonymous accounts from kyc account</a> using technology like TEE, such as Phala Network or <a href="https://github.com/integritee-network/integritee-node">Integritee network</a> or using Zero-knowledge proof.</p>
</blockquote>
<blockquote>
<p>There are other methods, such as time-locked withdrawals, where one can withdraw funds in a predictable manner based on the DeFi algorithm, without needing any kyc.</p>
</blockquote>
<p>There can be incentives for providing liquidity, and the ability sale your token at the discovered price during the initial coin offering.</p>
<p>Price discovery every day or weekly.</p>
<h2 id="impact-of-other-exchanges"><a class="header" href="#impact-of-other-exchanges">Impact of other exchanges</a></h2>
<p>Even if such an rational exchange is developed, what about other exchanges that can go bad and disrupt the pricing system? If these rational exchanges grow big, then other exchanges can only have a little effect, but that's not how it works <a href="https://finematics.com/bank-run-in-defi-iron-finance-explained/">when profit and incentives are involved</a>.</p>
<blockquote>
<p>Can we make a token available only to whitelisted exchanges by encoding it to blockchain specifications and prevent it from being traded on any other exchanges? If so, what would be the specification or intermediary logic involved in fund transfers?</p>
</blockquote>
<p>There are two ways of transferring tokens: one is through the blockchain, where tokens are minted to your wallet for performing specific tasks validated by the blockchain algorithm itself. The other is peer-to-peer (p2p) transfer or wallet-to-wallet transfer. Token exchanges between trading pair occur through wallet-to-wallet transfers.</p>
<p>Though minting tokens based on validation by blockchain is a form of trade, when I refer to trading, I mean swapping or transferring tokens between two pairs. In my personal opinion, we don't need high-frequency trading. A fair amount of limited monthly trading can fulfill everyone's needs.</p>
<div style="break-before: page; page-break-before: always;"></div><p><a href="https://docs.4everland.org/storage/bucket/bucket-api-s3-compatible/coding-examples/example-for-javascript">Bucket Api</a></p>
<pre><code class="language-bash">npm install @aws-sdk/client-s3
</code></pre>
<h1 id="example-1"><a class="header" href="#example-1">Example</a></h1>
<h2 id="init-s3-client"><a class="header" href="#init-s3-client">init s3 client</a></h2>
<pre><code class="language-javascript">import { S3 } from "@aws-sdk/client-s3";

const { endpoint, accessKey, secretKey, sessionToken } = s3Params;
const s3 = new S3({
  endpoint,
  signatureVersion: "v4",
  credentials: {
    accessKeyId: accessKey,
    secretAccessKey: secretKey,
    sessionToken,
  },
  region: "us-west-2",
});
</code></pre>
<h2 id="create-bucket-and-put-object"><a class="header" href="#create-bucket-and-put-object">create bucket and put object</a></h2>
<pre><code class="language-javascript">import { Upload } from "@aws-sdk/lib-storage";

const createBucketOutput = await s3.createBucket({
  Bucket: "bucketname",
});
const putObjectOutput = await s3.putObject({
  Bucket: "bucketname",
  Key: "key",
  Body: "data content",
});

// multipart upload
const params = {
  Bucket,
  Key: file.name,
  Body: file,
  ContentType: file.type,
};
try {
  const task = new Upload({
    client: s3,
    queueSize: 3, // 3 MiB
    params,
  });
  task.on("httpUploadProgress", (e) =&gt; {
    const progress = ((e.loaded / e.total) * 100) | 0;
    console.log(progress, e);
  });
  await task.done();
} catch (error) {
  if (error) {
    console.log("task", error.message);
  }
}
</code></pre>
<h2 id="list-buckets-and-list-objects"><a class="header" href="#list-buckets-and-list-objects">List buckets and list objects</a></h2>
<pre><code class="language-javascript">s3.listBuckets((err, data)=&gt; {
    if(!err) {
        console.log(data)
    }
});

s3.listObjectsV2({ Bucket: "bucketname", MaxKeys: 10 }, (err, data)=&gt;{
    if(!err) {
        console.log(data.KeyCount)
        data.Contents.forEach((o)=&gt;{
            console.log(o.Key)
        })
        
    }
});
</code></pre>
<h2 id="get-ipfs-hash-and-arweave-hash"><a class="header" href="#get-ipfs-hash-and-arweave-hash">Get ipfs hash and arweave hash</a></h2>
<pre><code class="language-javascript">s3.headObject({
    Bucket: "bucketname",
    Key: "objectkey",
},(err, data)=&gt;{
    if(!err) {
        console.log(data)
        console.log("ipfs cid:    ", data.Metadata['ipfs-hash'])
        // if synced to arweave
        console.log("arweave hash:", data.Metadata['arweave-hash']) 
    }

})
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4ever-security-token-service-api"><a class="header" href="#4ever-security-token-service-api">4EVER Security Token Service API</a></h1>
<p>Welcome to the 4EVERLAND Security Token Service (<code>STS</code>) API</p>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>The 4EVERLAND Security Token Service is a service designed to generate temporary credentials, allowing you to request temporary credentials for partial or even full privileges for other users or a specified user.
4EVER Bucket STS fully compatible with AWS S3 STS. More information about STS can be found at .</p>
<h2 id="how-to-use"><a class="header" href="#how-to-use">How to use</a></h2>
<p>This is obtained by taking the API Secret and the API Key from the Master key and sending them to the endpoint. By default, all 4EVERLAND STS requests are sent to https://endpoint.4everland.co.</p>
<p>Javascript example:</p>
<pre><code class="language-javascript">
const {STSClient, AssumeRoleCommand} = require('@aws-sdk/client-sts')
​
const stsClient = new STSClient({
    endpoint: 'https://endpoint.4everland.co',
    region: 'us-west-1',
    credentials: {
        accessKeyId: 'Your api key.',
        secretAccessKey:  'Your api secret.',
    }
});
​
const params = {
    RoleSessionName: "only-put-object",
    DurationSeconds: 3600,
    Policy: `{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:PutObject",
                "s3:AbortMultipartUpload"
            ],
            "Resource": [
                "arn:aws:s3:::your-bucket-name/your-directory/*"
            ]
        }
    ]
}`
};
​
​
stsClient.send(new AssumeRoleCommand(params)).then(function (data) {
    console.log(data.Credentials)
});

</code></pre>
<h2 id="how-to-get-the-master-key"><a class="header" href="#how-to-get-the-master-key">How to get the Master Key</a></h2>
<p>Click on Bucket&gt; Access key&gt; Master-Key</p>
<h2 id="session-token-according-to-chat-gpt"><a class="header" href="#session-token-according-to-chat-gpt">Session token according to chat gpt</a></h2>
<pre><code class="language-javascript">stsClient.send(new AssumeRoleCommand(params)).then(function (data) {
    // Extract the session token from the temporary credentials
    const sessionToken = data.Credentials.SessionToken;
    console.log("Session Token:", sessionToken);
});
</code></pre>
<h2 id="sts-in-one-function"><a class="header" href="#sts-in-one-function">STS in one function</a></h2>
<p>To create an export function that takes in <code>accessKeyId</code> and <code>secretAccessKey</code> as arguments and returns the credentials, you can modify the code like this:</p>
<pre><code class="language-javascript">const { STSClient, AssumeRoleCommand } = require("@aws-sdk/client-sts");

async function getSTSCredentials(accessKeyId, secretAccessKey) {
    const stsClient = new STSClient({
        endpoint: 'https://endpoint.4everland.co',
        region: 'us-west-1',
        credentials: {
            accessKeyId: accessKeyId,
            secretAccessKey: secretAccessKey,
        }
    });

    const params = {
        RoleSessionName: "only-put-object",
        DurationSeconds: 3600,
        Policy: `{
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Action": [
                        "s3:PutObject",
                        "s3:AbortMultipartUpload"
                    ],
                    "Resource": [
                        "arn:aws:s3:::your-bucket-name/your-directory/*"
                    ]
                }
            ]
        }`
    };

    try {
        const data = await stsClient.send(new AssumeRoleCommand(params));
        return data.Credentials;
    } catch (error) {
        console.error("Error fetching STS credentials:", error);
        throw error;
    }
}

// Example usage:
const accessKeyId = 'Your api key.';
const secretAccessKey = 'Your api secret.';

getSTSCredentials(accessKeyId, secretAccessKey)
    .then(credentials =&gt; {
        console.log(credentials);
    })
    .catch(error =&gt; {
        console.error("Error:", error);
    });
</code></pre>
<p>This code defines an <code>async</code> function <code>getSTSCredentials</code> that takes <code>accessKeyId</code> and <code>secretAccessKey</code> as arguments, creates an STS client, sends an <code>AssumeRoleCommand</code>, and returns the resulting credentials. The example usage section demonstrates how to call this function with your access key and secret key.</p>
<h2 id="compiled-code-tested"><a class="header" href="#compiled-code-tested">Compiled code (tested)</a></h2>
<p>app.js</p>
<pre><code class="language-javascript">import dotenv from 'dotenv';
import {STSClient, AssumeRoleCommand } from "@aws-sdk/client-sts";


dotenv.config();


// shivarthu-upload/website_tests/*
// Bucket name `shivarthu-upload`
// Folder name `website_test`

async function getSTSCredentials(accessKeyId, secretAccessKey) {
    const stsClient = new STSClient({
        endpoint: 'https://endpoint.4everland.co',
        region: 'us-west-1',
        credentials: {
            accessKeyId: accessKeyId,
            secretAccessKey: secretAccessKey,
        }
    });

    const params = {
        RoleSessionName: "only-put-object",
        DurationSeconds: 7889400, // 3 months
        Policy: `{
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Action": [
                        "s3:PutObject",
                        "s3:AbortMultipartUpload"
                    ],
                    "Resource": [
                        "arn:aws:s3:::shivarthu-upload/website_tests/*" 
                    ]
                }
            ]
        }`
    };

    try {
        const data = await stsClient.send(new AssumeRoleCommand(params));
        return data.Credentials;
    } catch (error) {
        console.error("Error fetching STS credentials:", error);
        throw error;
    }
}

// Example usage:
const accessKeyId = process.env.EVERLAND_KEY_MASTER;
const secretAccessKey = process.env.EVERLAND_SECRET_MASTER;

getSTSCredentials(accessKeyId, secretAccessKey)
    .then(credentials =&gt; {
        console.log(credentials);
    })
    .catch(error =&gt; {
        console.error("Error:", error);
    });

</code></pre>
<h2 id="env-file-in-root-directory"><a class="header" href="#env-file-in-root-directory">.env file in root directory</a></h2>
<p>Change it with original master key and secret</p>
<pre><code>EVERLAND_KEY_MASTER=kdifeiikd
EVERLAND_SECRET_MASTER=ierudieikdie
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="upload-files-safely-tested"><a class="header" href="#upload-files-safely-tested">Upload files safely (tested)</a></h1>
<pre><code class="language-javascript">import dotenv from 'dotenv';
import { S3 } from "@aws-sdk/client-s3";
import { Upload } from "@aws-sdk/lib-storage";

dotenv.config();


// Function to upload a file using temporary credentials
async function uploadFileWithTemporaryCredentials(file) {
    const s3 = new S3({
      endpoint: 'https://endpoint.4everland.co',
      signatureVersion: 'v4',
      credentials: {
        accessKeyId: process.env.AccessKeyId,
        secretAccessKey: process.env.SecretAccessKey,
        sessionToken: process.env.SessionToken,
      },
      region: 'us-west-2',
    });
  
    const params = {
      Bucket: 'shivarthu-upload', // Bucket name
      Key: 'website_tests/' + file.name, // folder name + file name
      Body: file.inside_text, // Inside text
      ContentType: file.type,
    };
  
    try {
      const task = new Upload({
        client: s3,
        queueSize: 3, // 3 MiB
        params,
      });
  
      task.on('httpUploadProgress', (e) =&gt; {
        const progress = ((e.loaded / e.total) * 100) | 0;
        console.log(progress, e);
      });
  
      await task.done();
    } catch (error) {
      console.error('Error uploading file:', error.message);
    }
  }

// Example usage
async function main() {
    try {  
      // Upload file using temporary credentials
      const file = {
        name: 'example.txt',
        type: 'text/plain',
        inside_text: "Website tests",
        // ... other file properties
      };
  
      await uploadFileWithTemporaryCredentials(file);
  
      console.log('File uploaded successfully!');
    } catch (error) {
      console.error('Error:', error.message);
    }
  }
  
  main();
</code></pre>
<h2 id="env-file-in-root-directory-1"><a class="header" href="#env-file-in-root-directory-1">.env file in root directory</a></h2>
<p>Change it with original key and secret generated from sts</p>
<pre><code>AccessKeyId=ldjfei
SecretAccessKey=eriueir
SessionToken=i9erijdfj
Expiration=2024-03-23T21:27:36.000Z
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create-a-custom-policy"><a class="header" href="#create-a-custom-policy">Create a custom policy</a></h1>
<p>To restrict specific users from deleting an S3 bucket, you can create a custom policy using the 4EVER Security Token Service (STS) API to generate temporary credentials with limited permissions. Below are the general steps to achieve this:</p>
<h3 id="step-1-create-a-custom-policy"><a class="header" href="#step-1-create-a-custom-policy">Step 1: Create a Custom Policy</a></h3>
<p>Define a policy that allows only specific actions, such as read-only access, for your S3 bucket. In this example, I'm assuming you want to restrict users from deleting the bucket.</p>
<pre><code class="language-json">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:ListBucket",
                "s3:GetObject",
                "s3:GetObjectVersion"
            ],
            "Resource": [
                "arn:aws:s3:::your-bucket-name",
                "arn:aws:s3:::your-bucket-name/*"
            ]
        },
        {
            "Effect": "Deny",
            "Action": "s3:DeleteBucket",
            "Resource": "arn:aws:s3:::your-bucket-name"
        }
    ]
}
</code></pre>
<h2 id="put-data"><a class="header" href="#put-data">Put data</a></h2>
<pre><code class="language-json">{
  "Id": "Policy1703314728428",
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "Stmt1703314504947",
      "Action": [
        "s3:PutObject"
      ],
      "Effect": "Allow",
      "Resource": "arn:aws:s3:::your-bucket-name",
      "Principal": {
        "AWS": [
          "allow to write"
        ]
      }
    },
    {
      "Sid": "Stmt1703314726015",
      "Action": [
        "s3:DeleteBucket"
      ],
      "Effect": "Deny",
      "Resource": "arn:aws:s3:::your-bucket-name",
      "Principal": {
        "AWS": [
          "deny delete bucket"
        ]
      }
    }
  ]
}
</code></pre>
<p>Replace <code>"your-bucket-name"</code> with the actual name of your S3 bucket.</p>
<h3 id="step-2-use-4ever-sts-api-to-generate-temporary-credentials"><a class="header" href="#step-2-use-4ever-sts-api-to-generate-temporary-credentials">Step 2: Use 4EVER STS API to Generate Temporary Credentials</a></h3>
<p>Use the 4EVER STS API to generate temporary credentials based on the custom policy. Here's an example using the JavaScript SDK:</p>
<pre><code class="language-javascript">const { STSClient, AssumeRoleCommand } = require('@aws-sdk/client-sts');

const stsClient = new STSClient({
    endpoint: 'https://endpoint.4everland.co',
    region: 'us-west-1',
    credentials: {
        accessKeyId: 'Your api key.',
        secretAccessKey: 'Your api secret.',
    }
});

const params = {
    RoleSessionName: "read-only-user",
    DurationSeconds: 3600,  // Adjust as needed
    Policy: JSON.stringify(/* Your custom policy */),
};

stsClient.send(new AssumeRoleCommand(params)).then(function (data) {
    // Use data.Credentials for your S3 operations
    console.log("Temporary Credentials:", data.Credentials);
});
</code></pre>
<h3 id="step-3-use-temporary-credentials-with-aws-sdk-for-s3"><a class="header" href="#step-3-use-temporary-credentials-with-aws-sdk-for-s3">Step 3: Use Temporary Credentials with AWS SDK for S3</a></h3>
<p>Replace the AWS SDK for S3 credentials with the temporary credentials obtained from the 4EVER STS API. Ensure your S3 operations use these temporary credentials.</p>
<p>Remember that this is a basic example, and you might need to adjust the policy according to your specific requirements. Always follow the principle of least privilege when defining policies to ensure that users have only the permissions they need.</p>
<p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html">IAM JSON policy elements reference</a></p>
<p><a href="https://awspolicygen.s3.amazonaws.com/policygen.html">AWS Policy Generator</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-code"><a class="header" href="#the-code">The code</a></h1>
<pre><pre class="playground"><code class="language-rust">/*
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0.
 */

 #![allow(clippy::result_large_err)]

 use aws_config::meta::region::RegionProviderChain;
 use aws_sdk_sts::{meta::PKG_VERSION, Client, Error};
 use aws_types::region::Region;
 use aws_types::sdk_config::SdkConfig;
 use clap::Parser;
 
 #[derive(Debug, Parser)]
 struct Opt {
     /// The AWS Region.
     #[structopt(short, long)]
     region: Option&lt;String&gt;,
 
     /// Whether to display additional information.
     #[structopt(short, long)]
     verbose: bool,
 
     /// Whether to display additional information.
     #[structopt(long)]
     role_arn: String,
 
     /// Whether to display additional information.
     #[structopt(long)]
     role_session_name: Option&lt;String&gt;,
 }
 
 // Displays the STS AssumeRole Arn.
 // snippet-start:[sts.rust.assume_role]
 async fn assume_role(config: &amp;SdkConfig, role_name: String, session_name: Option&lt;String&gt;) {
     let provider = aws_config::sts::AssumeRoleProvider::builder(role_name)
         .session_name(session_name.unwrap_or("rust_sdk_example_session".into()))
         .configure(config)
         .build()
         .await;
 
     let local_config = aws_config::from_env()
         .credentials_provider(provider)
         .load()
         .await;
     let client = Client::new(&amp;local_config);
     let req = client.get_caller_identity();
     let resp = req.send().await;
     match resp {
         Ok(e) =&gt; {
             println!("UserID :               {}", e.user_id().unwrap_or_default());
             println!("Account:               {}", e.account().unwrap_or_default());
             println!("Arn    :               {}", e.arn().unwrap_or_default());
         }
         Err(e) =&gt; println!("{:?}", e),
     }
 }
 // snippet-end:[sts.rust.assume_role]
 
 /// Assumes another role and display some information about the role assumed
 ///
 /// # Arguments
 ///
 /// * `[-r REGION]` - The Region in which the client is created.
 ///   If not supplied, uses the value of the **AWS_REGION** environment variable.
 ///   If the environment variable is not set, defaults to **us-west-2**.
 /// * `[--role-arn ROLE_ARN]` - The ARN of the IAM role to assume.
 /// * `[--role-session-name ROLE_SESSION_NAME]` - The name of the session.
 /// * `[-v]` - Whether to display information.
 #[tokio::main]
 async fn main() -&gt; Result&lt;(), Error&gt; {
     tracing_subscriber::fmt::init();
     let Opt {
         region,
         verbose,
         role_arn,
         role_session_name,
     } = Opt::parse();
 
     let region_provider = RegionProviderChain::first_try(region.map(Region::new))
         .or_default_provider()
         .or_else(Region::new("us-west-2"));
     println!();
 
     if verbose {
         println!("STS client version: {}", PKG_VERSION);
         println!(
             "Region:                    {}",
             region_provider.region().await.unwrap().as_ref()
         );
 
         println!();
     }
 
     let shared_config = aws_config::from_env().region(region_provider).load().await;
     assume_role(&amp;shared_config, role_arn, role_session_name).await;
     Ok(())
 }
 </code></pre></pre>
<h2 id="cargotoml"><a class="header" href="#cargotoml">Cargo.toml</a></h2>
<pre><code class="language-toml">[package]
name = "sts_implement"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
aws-config = { version = "1.1.1", features = ["behavior-version-latest"] }
aws-sdk-sts = "1.9.0"
tokio = { version = "1", features = ["full"] }
aws-smithy-types = { version = "1.0.1" }
aws-types = { version = "1.0.1" }
clap = { version = "~4.4", features = ["derive"] }
tracing-subscriber = { version = "0.3.15", features = ["env-filter"] 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enhancing-privacy-and-security-in-offline-app-design-with-webassembly"><a class="header" href="#enhancing-privacy-and-security-in-offline-app-design-with-webassembly">Enhancing Privacy and Security in Offline App Design with WebAssembly</a></h1>
<p>Introduction:</p>
<p>In the realm of application development, a shift towards designing offline apps by default is imperative for enhanced privacy and security. One key consideration involves the separation of folders for online connections and those accessed by the application for computation, ensuring data privacy without compromising functionality.</p>
<p>Specification:</p>
<p><strong>Isolating Online Connection and App-Read Folders:</strong></p>
<ul>
<li>How can we segregate folders for online connections and those read by the app for computation to prevent data transmission to the server?</li>
</ul>
<p><strong>Ensuring Data Privacy:</strong></p>
<ul>
<li>How can we determine which software reads data without transmitting it to the server?</li>
</ul>
<p><strong>Interaction with Server in the Absence of Data Read:</strong></p>
<ul>
<li>If the software is restricted from reading data, how will it interact with the server?</li>
</ul>
<h2 id="two-app-paradigm-online-app-and-offline-app-with-intents-based-communication"><a class="header" href="#two-app-paradigm-online-app-and-offline-app-with-intents-based-communication">Two App Paradigm: <code>Online App</code> and <code>Offline App</code> with <a href="linux/../rust/one_wallet_app.html">intents</a> based communication.</a></h2>
<p>The <code>Online App</code> has access only to an <code>Online Folder</code>, whereas the <code>Offline App</code> has access to both an <code>Offline Folder</code> and an <code>Online Folder</code>.</p>
<p>"In this framework, we introduce two distinct applications: the <code>Online App</code>, a publicly audited high-security app with internet access, serving as the gatekeeper for all <code>Offline Apps</code> compatible with it, and the <code>Offline App</code>, designed for user interaction without direct internet access. The <code>Offline App</code> operates in a sandboxed environment, utilizing technologies like <a href="linux/./firejail.html">firejail</a> for added security.</p>
<p><strong>Communication Framework:</strong></p>
<ul>
<li>The <code>Online App</code> provides an API endpoint with three fields for the <code>Offline App</code>: a data description, the data itself, and the function name of the WebAssembly (wasm) code. Custom wasm code is one time uploaded to <code>Online App</code> by <code>Offline App</code>. Custom wasm logic facilitates remote server communication, enhancing interoperability.</li>
</ul>
<p><strong>User Traceability:</strong></p>
<ul>
<li>Data exchanged between the <code>Offline App</code> and <code>Online App</code> can be traced by users, offering transparency and the ability to maintain logs.</li>
</ul>
<p><strong>Differentiation from Browsers:</strong></p>
<ul>
<li>Unlike browsers, where file reads are potentially transmitted to servers due to constant internet connectivity, the <code>Offline App</code> allow intermittent internet access, promoting the development of offline-centric applications.</li>
</ul>
<p><strong>Promoting Offline App Development:</strong></p>
<ul>
<li>By eliminating the necessity for constant internet connection, developers are encouraged to create offline apps, enhancing user privacy. For instance, a code editor like VSCode only requires internet access for initial downloads. But currently, apps are free to connect to the internet all the time, you never know what is going on in the background. You can't use <a href="linux/./firejail.html">Firejail</a> because it completely disables the internet for the app. Open source helps, but as software has become highly complicated, security analysis of open source software is left to only a few developers.</li>
</ul>
<p><strong>Permission-Based Connection:</strong></p>
<ul>
<li>Implementing permission-based connections and providing a user interface for monitoring data flow ensures better control and transparency.</li>
</ul>
<p><strong>Enhancing User Experience:</strong></p>
<ul>
<li>To mitigate the need of constant monitoring, introduce regex-based file ignore functionality, similar to .gitignore, allowing users to specify files that are exempt from server access in the <code>Online Folder</code>.</li>
</ul>
<p><strong>Addressing Security Concerns:</strong></p>
<ul>
<li>What if the data that goes to the <code>Online App</code> is encrypted or obscured, so that you can't trace what data is being sent? Encrypting or obscuring data sent to the <code>Online App</code> can be mitigated by only transmitting unobscured data or files. The <code>Online App</code> can verify the integrity of received data by comparing it to the original files in its designated folder.</li>
</ul>
<p>Conclusion:</p>
<p>A privacy-centric approach to app development, emphasizing offline functionality and transparent communication, not only enhances security but also empowers users to have greater control over their data. By implementing features such as permission-based connections, user traceability, and file ignore options, we can strike a balance between functionality and safeguarding user privacy.</p>
<p>A similar experiment to design crypto wallet using intents here: <a href="linux/../rust/one_wallet_app.html">One Wallet App</a></p>
<h3 id="sandboxed-core-functionality"><a class="header" href="#sandboxed-core-functionality">Sandboxed core functionality</a></h3>
<p><img src="linux/./image/sandbox_core_functionality.png" alt="Sandboxed core functionality" /></p>
<p style="text-align:center;">
  <cite><a href="linux/./libp2p.html">Full Stack rust-libp2p apps</a></cite>
</p>
<h3 id="challenges"><a class="header" href="#challenges">Challenges</a></h3>
<p>Designing two separate apps can be a bit complicated. It would be easier for both app developers and users if all three modules (as shown in the image) were integrated into a single app. However, consolidating them into a single app might make it challenging for users to trust the app even if it's open source and when it lacks sufficient code reviewers.</p>
<p>Here is another model: all WebAssembly modules are assembled in a single package, whereas a generic module well audited by developer community is used for sandboxing the files and folders. Any app developer can utilize this module, and sandboxing of files and folders can be easily validated by users or developers without requiring much skill.</p>
<p><img src="linux/./image/sandboxing_files_folder.png" alt="Sandboxing files and folders" /></p>
<p>A command-line tool can also be built that takes the source code (e.g., Tauri source code) and provides security results, such as whether the app is properly internet sandboxed. It makes it easy to check the security.</p>
<h2 id="security-enhancement-of-an-operating-system-eg-linux-os"><a class="header" href="#security-enhancement-of-an-operating-system-eg-linux-os">Security enhancement of an operating system (e.g. Linux OS)</a></h2>
<p>With technology like <a href="linux/./appimage.html">AppImage</a>, there is no need to change the operating system. This further increases the security of the OS. One can also check if something has changed or tampered in the system files crucial for security by obtaining the hash of the OS folder, as it will have the same hash at all times. In the case of an OS update, the changed hash can be publicly declared.</p>
<p>If you just want to check if something in the folder changed:</p>
<pre><code class="language-bash">ls -alR --full-time /folder/of/stuff | sha1sum
</code></pre>
<p>But how can we trust the compromised linux operating system software that generates the checksum? We don't have to. For example, Ubuntu software provides a checksum for publicly audited software. One can install the Ubuntu on a pendrive and verify the checksum of the folder containing the Linux OS installed on the computer's hard disk.</p>
<h2 id="wasm-interface-types"><a class="header" href="#wasm-interface-types">Wasm interface types</a></h2>
<p><a href="https://github.com/bytecodealliance/wit-bindgen">Wit Bindgen</a> uses Guest language bindings generator for WIT and the Component Model. With it different modules (or apps) can talk with each other. Its also used for the <a href="https://github.com/tauri-apps/tauri-bindgen">Tauri Inter-process communication (IPC) bridge</a></p>
<h2 id="anonymity-protocols-in-rust"><a class="header" href="#anonymity-protocols-in-rust">Anonymity Protocols in rust</a></h2>
<p>One can use anonymous protocols like Tor by default with tauri apps or AppImage to protect users.</p>
<blockquote>
<p>Defend yourself against tracking and surveillance. Circumvent censorship.</p>
</blockquote>
<p><a href="https://tpo.pages.torproject.net/core/arti/">Arti</a> is a project to implement the Tor anonymity protocols in the Rust programming language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="firejail"><a class="header" href="#firejail">Firejail</a></h1>
<p><a href="https://firejail.wordpress.com/">Website: Firejail Security Sandbox</a></p>
<p>Firejail is a security sandbox program that provides several benefits, particularly in enhancing the security and isolation of applications on a Linux system. Here are some of the key benefits of using Firejail:</p>
<ol>
<li>
<p><strong>Isolation:</strong></p>
<ul>
<li>Firejail creates a secure sandbox environment for applications, restricting their access to the rest of the system. This isolation helps prevent unauthorized access to sensitive files, directories, and system resources.</li>
</ul>
</li>
<li>
<p><strong>Reduced Attack Surface:</strong></p>
<ul>
<li>By limiting an application's access to only necessary files and resources, Firejail reduces the potential attack surface. This makes it more difficult for malicious actors to exploit vulnerabilities within the application.</li>
</ul>
</li>
<li>
<p><strong>Network Segregation:</strong></p>
<ul>
<li>Firejail can control network access for sandboxed applications. This prevents unauthorized network communication and adds an additional layer of security, especially for applications that don't require internet access.</li>
</ul>
</li>
<li>
<p><strong>Capability Filtering:</strong></p>
<ul>
<li>Firejail allows for the fine-tuning of an application's capabilities. Unnecessary capabilities can be dropped, further restricting what actions an application can perform, thus minimizing potential security risks.</li>
</ul>
</li>
<li>
<p><strong>Privilege Dropping:</strong></p>
<ul>
<li>Firejail can drop unnecessary privileges when launching an application. This means that even if an attacker manages to compromise the application, they will have fewer privileges, limiting the potential damage.</li>
</ul>
</li>
<li>
<p><strong>Resource Control:</strong></p>
<ul>
<li>Firejail enables control over system resources allocated to sandboxed applications. This can prevent resource-intensive applications from consuming excessive CPU, memory, or other resources, contributing to a more stable system performance.</li>
</ul>
</li>
<li>
<p><strong>Compatibility:</strong></p>
<ul>
<li>Firejail is designed to be compatible with a wide range of applications without requiring modification to the application itself. This makes it a flexible and practical solution for enhancing the security of diverse software.</li>
</ul>
</li>
<li>
<p><strong>Ease of Use:</strong></p>
<ul>
<li>Firejail is relatively easy to use and can be employed with various applications through simple command-line options. This ease of use encourages administrators and users to implement sandboxing as part of their security practices.</li>
</ul>
</li>
<li>
<p><strong>Transparent Operation:</strong></p>
<ul>
<li>Firejail operates transparently, allowing users to run applications within a sandbox without requiring significant changes to their usual workflow. This makes it convenient to integrate into existing systems and processes.</li>
</ul>
</li>
<li>
<p><strong>Open Source and Actively Maintained:</strong></p>
<ul>
<li>As an open-source project, Firejail benefits from continuous development and improvement. Regular updates and contributions from the community ensure that the tool remains effective and up-to-date in addressing emerging security challenges.</li>
</ul>
</li>
</ol>
<p>In summary, Firejail provides a robust and flexible sandboxing solution for Linux systems, offering enhanced security, isolation, and control over applications, ultimately contributing to a more resilient and secure computing environment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="appimage"><a class="header" href="#appimage">AppImage</a></h1>
<p><a href="https://appimage.org/">https://appimage.org/</a></p>
<p>Download an application, make it executable, and run! No need to install. No system libraries or system preferences are altered. Can also run in a sandbox like <a href="linux/./firejail.html">Firejail</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="full-stack-rust-libp2p-apps-with-wasm-and-webrtc---doug-anderson"><a class="header" href="#full-stack-rust-libp2p-apps-with-wasm-and-webrtc---doug-anderson">Full Stack rust-libp2p apps, with Wasm and WebRTC - Doug Anderson</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cROI6RMyQ70?si=c4NFUN9wI5NPQOZ9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="switching-your-text-editor"><a class="header" href="#switching-your-text-editor">Switching your text editor</a></h1>
<h2 id="helix-editor"><a class="header" href="#helix-editor"><a href="https://helix-editor.com/">Helix editor</a></a></h2>
<p><a href="https://helix-editor.com/">https://helix-editor.com/</a></p>
<h2 id="tutorial"><a class="header" href="#tutorial">Tutorial</a></h2>
<p><a href="https://www.youtube.com/playlist?list=PL4AR7tbGuBH5AzV0tPpTfYgGIF5vk3HN2">https://www.youtube.com/playlist?list=PL4AR7tbGuBH5AzV0tPpTfYgGIF5vk3HN2</a></p>
<p>Modal editor</p>
<p>A post-modern text editor.</p>
<h3 id="lightweight-and-speed"><a class="header" href="#lightweight-and-speed">Lightweight and Speed:</a></h3>
<p>Helix is ightweight nature and fast performance. It runs in the terminal, making it efficient and responsive even on remote servers or low-resource environments.</p>
<h3 id="keyboard-centric-interface"><a class="header" href="#keyboard-centric-interface">Keyboard-Centric Interface:</a></h3>
<p>Helix  has a unique modal interface that allows users to navigate and edit text using keyboard commands. This can be very efficient for those who prefer to keep their hands on the keyboard without reaching for the mouse.
You use keyboard shortcuts to select, multi-select, delete, copy, and switch modes, making it fast and efficient to write your document or code once you have become familiar with them.</p>
<h3 id="extensive-customization"><a class="header" href="#extensive-customization">Extensive Customization:</a></h3>
<p>Helix is highly customizable, allowing users to tailor it to their specific needs. Users can create custom key mappings, and configure settings to create a personalized editing environment.</p>
<p>To have word wrap:</p>
<p>.helix/config.toml</p>
<pre><code class="language-toml">[editor.soft-wrap]
enable = true
max-wrap = 25 # increase value to reduce forced mid-word wrapping
max-indent-retain = 0
wrap-indicator = ""  # set wrap-indicator to "" to hide it
</code></pre>
<h3 id="learning-curve-and-efficiency"><a class="header" href="#learning-curve-and-efficiency">Learning Curve and Efficiency:</a></h3>
<p>While Helix has a learning curve initially, some users argue that once mastered, it can be extremely efficient for text editing and manipulation. In command mode, activated by pressing the colon key (:), you can explore the tutorial (:tutor) to gain experience with Helix commands within a few days or a week.</p>
<h3 id="use-zellij-terminal-workspace"><a class="header" href="#use-zellij-terminal-workspace">Use Zellij terminal workspace</a></h3>
<p><a href="https://zellij.dev/">https://zellij.dev/</a></p>
<p>Zellij Tutorial</p>
<p><a href="https://zellij.dev/tutorials/basic-functionality/">https://zellij.dev/tutorials/basic-functionality/</a></p>
<h4 id="zellij-strider"><a class="header" href="#zellij-strider">Zellij strider</a></h4>
<pre><code class="language-bash">zellij -l strider
</code></pre>
<p><a href="https://zellij.dev/tutorials/filepicker/">Zellij Filepicker</a></p>
<h3 id="rust-based-terminal"><a class="header" href="#rust-based-terminal">Rust based terminal</a></h3>
<p><a href="https://github.com/alacritty/alacritty">https://github.com/alacritty/alacritty</a></p>
<h3 id="use-yazi-for-terminal-file-manager"><a class="header" href="#use-yazi-for-terminal-file-manager">Use yazi for terminal file manager:</a></h3>
<p><a href="https://github.com/sxyazi/yazi">Yazi</a></p>
<p>yz-fp</p>
<pre><code class="language-bash">#!/bin/bash

selected_file="$1"

# KEY ASSUMPTIONS
# - editor pane was the most recently active pane
# - yazi fp is only open floating pane

# go back to editor
zellij action toggle-floating-panes

# open selected file in editor
zellij action write 27 # send escape key
zellij action write-chars ":open $selected_file"
zellij action write 13 # send enter key

# go back to floating yazi pane and close it
zellij action toggle-floating-panes
zellij action close-pane
</code></pre>
<p>yy</p>
<pre><code class="language-bash">#!/bin/bash

zellij run -c -f -- yazi "$PWD"	
</code></pre>
<p>copy yz-fp and yy to /bin folder and make it executable</p>
<pre><code class="language-bash">sudo cp yz-fp /bin
sudo cp yy /bin
sudo chmod +x yz-fp
sudo chmod +x yy
</code></pre>
<p>You can configure it for helix in yazi.toml file</p>
<p>.config/yazi/</p>
<p><a href="https://yazi-rs.github.io/docs/configuration/overview">yazi.toml</a></p>
<pre><code class="language-toml">[opener]
helix = [
  { run = 'yz-fp "$0"', desc = "Use yazi as file picker within helix" },
]

[open]
rules = [
  { name = "**/*", use = "helix" },
]
</code></pre>
<p>~/.config/helix</p>
<p>config.toml</p>
<pre><code class="language-toml">[keys.normal]
C-y = ":sh yy" # launch filepicker

[editor.lsp]
display-inlay-hints = true


[keys.normal.space]
"H" = ":toggle lsp.display-inlay-hints"
 
</code></pre>
<p>It will open file picker on Ctrl+y in zellij</p>
<p>Space + Capital H for toggle inlay hints</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="helix-commands"><a class="header" href="#helix-commands">Helix commands</a></h1>
<h2 id="find-and-replace"><a class="header" href="#find-and-replace">Find and replace</a></h2>
<p>Press % to select all the text</p>
<p>Then s and type the text you want to select and replace the text
Then c to replace it.</p>
<p>Try the example:</p>
<p>Replace the python python python python</p>
<h2 id="collapsing-the-selection"><a class="header" href="#collapsing-the-selection">Collapsing the selection</a></h2>
<p>Type ; to collapse selections to single cursors.</p>
<p>Sometimes, you want to deselect without having to move the
cursor(s). This can be done using the ; key.</p>
<ol>
<li>Move the cursor to the line marked '--&gt;' below.</li>
<li>Use the motions you have learned to move around the line,
and try using ; to deselect the text after it is selected
by the motions.</li>
</ol>
<p>--&gt; This is an error-free line with words to move around in.</p>
<p>Note: This works the same in Select mode.
Note: Another related command is Alt-; which flips selections.</p>
<h2 id="words-and-words"><a class="header" href="#words-and-words">words and WORDS</a></h2>
<p>Some common motions include:
w - Move forward to before the beginning of the next word.
e - Move forward to the end of the current word.
b - Move backward to the beginning of the current word.</p>
<h2 id="change-command"><a class="header" href="#change-command">Change command</a></h2>
<p>Type c to change the current selection.</p>
<p>The change command deletes the current selection and enters
Insert mode, so it is a very common shorthand for di.</p>
<h2 id="yank-and-paste"><a class="header" href="#yank-and-paste">Yank and paste</a></h2>
<p>Type y to yank (copy) the selection.</p>
<p>Type p to paste the yanked selection after the cursor.</p>
<p>Type P to paste the yanked text before the cursor.</p>
<h2 id="cut-and-paste"><a class="header" href="#cut-and-paste">Cut and paste</a></h2>
<p>Type d to delete and yank the selection</p>
<p>Type p to paste teh yanked selection after the cursor.</p>
<h2 id="searching-a-file"><a class="header" href="#searching-a-file">Searching a file</a></h2>
<p>Type / to search forward in file, Enter to confirm search.</p>
<p>Type n to go to the next search match.</p>
<p>Type N to go to the previous search match.</p>
<h2 id="multiple-cursor"><a class="header" href="#multiple-cursor">Multiple cursor</a></h2>
<p>Type capital C to duplicate the cursor to the next suitable line.
Type , to remove the cursor.</p>
<h2 id="align-selections"><a class="header" href="#align-selections">Align selections</a></h2>
<p>Type &amp; to align the contents of the selections.</p>
<ol>
<li>Move the cursor to the first line marked '--&gt;' below. Place
the cursor on the whitespace just after the arrow.</li>
<li>Type C four times or 4C.</li>
<li>Type W to select the numbers and brackets.</li>
<li>Type &amp; to align the words.</li>
</ol>
<pre><code>--&gt; 97) lorem
--&gt; 98) ipsum
--&gt; 99) dolor
--&gt; 100) sit
--&gt; 101) amet
</code></pre>
<p>Note: &amp; only cares about the alignment of the "head" of the
selections - the end that moves. The other end is called
the "anchor".</p>
<h2 id="replace-with-yanked-text"><a class="header" href="#replace-with-yanked-text">Replace with yanked text</a></h2>
<p>Type R to replace the selection with previously yanked text.</p>
<p>Space + R to replace selections by clipboard contents</p>
<ol>
<li>Move the cursor to the line marked '--&gt;' below.</li>
<li>Type w to select "watermelons" and then y to yank it.</li>
<li>Select "oranges" with w.</li>
<li>Type R to replace "oranges" with "watermelons"</li>
</ol>
<p>--&gt; I like watermelons because oranges are refreshing.
I like watermelons because watermelons are refreshing.</p>
<h2 id="joining-lines-together"><a class="header" href="#joining-lines-together">Joining lines together</a></h2>
<p>Type J to join together lines in selection.</p>
<p>Select lines and type J</p>
<h2 id="changing-case"><a class="header" href="#changing-case">Changing case</a></h2>
<p>Type ~ to switch the case of all selected letters.</p>
<p>Type ` to set all selected letters to lowercase.</p>
<p>Press Alt-` to set all selected letters to uppercase.</p>
<h2 id="renaming-file"><a class="header" href="#renaming-file">Renaming file</a></h2>
<p>You can write the file in the current buffer with a new name <code>:w new_name</code> and then call <code>:sh rm old_name</code></p>
<h2 id="goto-line-number"><a class="header" href="#goto-line-number">Goto line number</a></h2>
<p>Enter to command mode with :</p>
<p>type :g 100</p>
<p>100 is the line number</p>
<p>Ctrl-u,	Move cursor and page half page up,	page_cursor_half_up</p>
<p>Ctrl-d,	Move cursor and page half page down,	page_cursor_half_down</p>
<h2 id="goto"><a class="header" href="#goto">Goto</a></h2>
<p>Press g in Normal mode</p>
<p>g, start of the file</p>
<p>e,	Go to the end of the file,	goto_last_line</p>
<p>d,	Go to definition (LSP),	goto_definition</p>
<p>y,	Go to type definition (LSP),	goto_type_definition</p>
<p>r,	Go to references (LSP),	goto_reference</p>
<p>i,	Go to implementation (LSP),	goto_implementation</p>
<h2 id="window-mode"><a class="header" href="#window-mode">Window mode</a></h2>
<p>Accessed by typing Ctrl-w in normal mode.</p>
<p>w, Ctrl-w, Switch to next window,	rotate_view</p>
<p>v, Ctrl-v,	Vertical right split,	vsplit</p>
<p>s, Ctrl-s,	Horizontal bottom split,	hsplit</p>
<h2 id="copy-error"><a class="header" href="#copy-error">Copy Error</a></h2>
<p><code>yank-diagnostic</code> in command mode</p>
<h2 id="diagnostic-picker"><a class="header" href="#diagnostic-picker">Diagnostic picker</a></h2>
<p><code>space-D</code> does show all diaganostics</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="zellij-commands"><a class="header" href="#zellij-commands">Zellij Commands</a></h2>
<h3 id="delete-all-sessions"><a class="header" href="#delete-all-sessions">Delete all sessions</a></h3>
<p>You can delete them either through the session-manager (<code>Ctrl o</code> + <code>w</code>) or with <code>zellij delete-all-sessions</code>.</p>
<h3 id="kill-all-sessions"><a class="header" href="#kill-all-sessions">Kill all sessions</a></h3>
<p>zellij kill-all-sessions</p>
<h3 id="attach-session-name"><a class="header" href="#attach-session-name">attach [session-name]</a></h3>
<p>short: a</p>
<p>Zellij will attempt to attach to an already running session, with the name [session-name]. If given no [session-name] and there is only one running session, it will attach to that session.</p>
<p>The attach subcommand will also accept the optional options subcommand.</p>
<h3 id="list-sessions"><a class="header" href="#list-sessions">list-sessions</a></h3>
<p>short: ls</p>
<p>Will list all the names of currently running sessions.</p>
<h3 id="kill-sessions-target-session"><a class="header" href="#kill-sessions-target-session">kill-sessions [target-session]</a></h3>
<p>short: k</p>
<p>Will kill the session with the name of [target-session], if it is currently running.</p>
<h3 id="kill-all-sessions-1"><a class="header" href="#kill-all-sessions-1">kill-all-sessions</a></h3>
<p>short: ka</p>
<p>Will prompt the user to kill all running sessions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redox-os-needs-to-start-with--own-niche"><a class="header" href="#redox-os-needs-to-start-with--own-niche">Redox OS needs to start with  own niche</a></h1>
<p><a href="https://www.redox-os.org/">https://www.redox-os.org/</a></p>
<p>Redox OS needs to create its specialized niche rather than directly competing with Windows, Linux, or Android. It is most likely that developers will be the first to experiment with a new OS. Redox needs to focus on compatibility with RISC-V single-board computers, which can range from desktops to mobile devices, and even Intel or AMD servers.</p>
<h2 id="two-main-challenges"><a class="header" href="#two-main-challenges">Two main challenges</a></h2>
<p><strong>Transitioning to a new OS has two main challenges: drivers and apps.</strong> In five years, when Redox OS matures, most software will be already built with Rust and WASM. The number of Rust packages is growing exponentially. RISC-V's open nature solves the problem of driver compatibility.</p>
<h2 id="serverless-computing"><a class="header" href="#serverless-computing">Serverless computing</a></h2>
<p>For serverless computing, there are now WebAssembly serverless options like <a href="https://github.com/fermyon/spin">Spin</a>, which eliminate the need for Docker. This means users can adopt the OS using webassembly.</p>
<h2 id="app-ecosystem"><a class="header" href="#app-ecosystem">App ecosystem</a></h2>
<p>As a simple user like developer, there are a few essential apps that are needed, some of which are already built in Rust: a <a href="https://github.com/pdf-rs/pdf">PDF reader</a>, an EPUB reader, Blender, Inkscape (or Graphite in Rust), GIMP, <a href="https://helix-editor.com/">Helix</a>, <a href="https://zed.dev/">Zed</a>, a sound editor (like Audacity), a document editor (like LibreOffice), <a href="https://github.com/rustdesk/rustdesk">RustDesk</a>, and OBS Studio.</p>
<p>Compatibility with <a href="https://tauri.app/">Tauri for apps</a> can help to grow the Redox OS app ecosystem.</p>
<h2 id="rust-browser"><a class="header" href="#rust-browser">Rust browser</a></h2>
<p>Most other tasks can be accomplished in a web browser. Servo can be game changer for building ui apps with ease, also at OS level UIs. Linux took a long time to achieve mass adoption due to its historically poor UI design. As a coder, much time is spent in the browser and code editor, so developers are more likely to be open to trying a new OS.</p>
<h2 id="security"><a class="header" href="#security">Security</a></h2>
<p>With <a href="https://doc.redox-os.org/book/ch01-05-how-redox-compares.html#the-kernel">kernel 50,000 lines of code</a> to review and a focus on bug-free, robust security through <a href="https://doc.redox-os.org/book/ch04-10-security.html#sandbox">sandboxing at the OS level</a>, Redox OS has a unique selling point in an era where privacy has become paramount.</p>
<p>Sandboxing for non-root users needs to be easy to maintain high security. Even if a user installs malicious apps downloaded from the internet, your computer should remain safe. Sandboxing should be highly customizable, with the ability to control internet access, read and write permissions for files and folders, and specify which folders an app can access. It should also be easy to manage through both a user interface and command-line interface.</p>
<h2 id="rust-and-redox-os-the-future-of-efficient-computing"><a class="header" href="#rust-and-redox-os-the-future-of-efficient-computing">Rust and Redox OS: The Future of Efficient Computing</a></h2>
<p>With <a href="https://iambrainstorming.github.io/chapters/computer/moore-law.html">Moore's Law coming to an end</a>, the speed and efficiency of software will become a paramount issue. The Rust language offers performance comparable to C and C++, while its rich type system and ownership model guarantee memory safety and thread safety, features that are not provided by C and C++. This enables the elimination of many classes of bugs at compile-time, making Rust a more efficient language than C and C++.</p>
<p>The Redox OS, built on Rust,  will inherit these features, boasting faster boot times of mere seconds and a responsive operating system, even on low-end devices such as those with Celeron processors or single-board computers like the Raspberry Pi.</p>
<p>The microkernel design of Redox OS, with its minimal lines of code, will result in a smaller-sized OS, yielding a significantly lower carbon footprint, even lower than that of Linux.</p>
<h2 id="about-licence"><a class="header" href="#about-licence">About Licence</a></h2>
<p>Redox uses MIT licence rather than <a href="https://iambrainstorming.github.io/chapters/programming/foss_philosophy.html#which-open-source-license-to-use">AGPL or GPL</a>. With MIT licence corporations have no incentive to open-source their changes to the code. This could lead to a problem where big tech companies hijack the code without contributing back to the open-access development of the OS. For complex operating system, a GPL license might be suitable, but its my personal opinion. GNU copyleft licenses may have particularly helped Linux protect its code and prevent corporations from converting it to closed source during its early days. With Redox OS, things are different. Redox is a microkernel with a manageable number of lines of code, and each driver, filesystem, network protocol, and more is provided as a separate process. This means that each component has full licensing autonomy and is not legally bound by the license of other OS code, including the microkernel license. However, it's important to note that no open-source license, including the GPL, can completely prevent big tech companies from converting the code to proprietary software. They can copy the design and change function names within a short period, and such changes may not be easily detected by plagiarism checkers, especially with the help of AI translators. The microkernel has fewer lines of code than the Linux kernel, making it easier to copy.</p>
<p>Many users choose to use FOSS not only because it solves their problems but also because it provides them <code>freedom</code>. <a href="https://iambrainstorming.github.io/chapters/programming/foss_philosophy.html">Freedom</a> is an important value sought by many FOSS users and developers, who prefer to use and develop software that respects their freedoms. For example, I prefer to use only FOSS applications if there are alternatives available. In such cases, the type of FOSS license becomes less relevant, as the primary concern is having the freedom to use, modify, and distribute the software as desired.</p>
<h2 id="redox-os-foundation"><a class="header" href="#redox-os-foundation">Redox OS Foundation</a></h2>
<p>As Redox OS is composed of multiple parts with different licenses as a FOSS user, am concerned about the potential inclusion of proprietary components. My preference would be for the OS to be entirely free and open-source, with no proprietary elements included. This would depend on the philosophy of the foundation that maintains the assembly, similar to the Ubuntu Foundation. I would place my trust in such a foundation to uphold these values and maintain the integrity of the open-source community.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bin-folder"><a class="header" href="#bin-folder">Bin Folder</a></h1>
<pre><code class="language-bash">$HOME/.local/bin
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hard-time-with-ipfs"><a class="header" href="#hard-time-with-ipfs">Hard time with IPFS</a></h1>
<p>Blockchain cannot store large files, and a mature IPFS is needed for true decentralization.</p>
<p>Accessing IPFS files with gateways hardly works; for example, if you upload a file to IPFS through one gateway, it is hardly accessible through other gateways. Furthermore, gateways can be censored.</p>
<h2 id="monetize-iroh-ipfs-node"><a class="header" href="#monetize-iroh-ipfs-node">Monetize Iroh (IPFS) node</a></h2>
<ol>
<li>Store the blob hash and peer ID in the blockchain. If a user changes their peer ID, they need to update it in the blockchain. A user has to stake for each peer ID.</li>
<li>Host the Iroh <a href="https://github.com/n0-computer/iroh-examples/blob/main/iroh-gateway/src/main.rs">gateway</a> and conduct random checks to find out if files of different hashes in the blockchain are accessible with the peer ID by the validators using the Iroh gateway.</li>
<li>The results of the daily random checks are stored in the blockchain and <a href="https://iambrainstorming.github.io/chapters/shivarthu/Shivarthu.html">governance through Schelling Coin is used</a>. The peer ID is incentivized or funds are deducted based on the random checks.</li>
</ol>
<p><a href="https://github.com/n0-computer/iroh/discussions/2356">Discussion</a></p>
<h2 id="dht-are-slow"><a class="header" href="#dht-are-slow">DHT are slow</a></h2>
<p>DHT are slow, blockchain can be used for storage of trackers, for easy peer discovery. Storing on blockchain, trackers can't be censored. One can use DHT along with direct peer discovery.</p>
<h2 id="connecting-multiple-node-id-and-fetching-the-collection"><a class="header" href="#connecting-multiple-node-id-and-fetching-the-collection">Connecting Multiple Node Id and Fetching the Collection</a></h2>
<p>The <a href="https://github.com/n0-computer/iroh-examples/blob/main/iroh-gateway/src/main.rs#L358">gateway</a>  example connects a single node, and then fetching the file.</p>
<p>What if I want to connect multiple node ids that have a file with the same hash, and download different parts of file from different node in parallel?</p>
<p>Node Ids are stored in blockchain so that it can't be censored.</p>
<p><a href="https://github.com/n0-computer/iroh/issues/2524">Discussion</a></p>
<h2 id="wasm-iroh-or-libp2p"><a class="header" href="#wasm-iroh-or-libp2p">Wasm Iroh or libp2p</a></h2>
<p>Wasm Iroh is needed to access files in the browser directly from the Iroh client, instead of fetching them through a gateway. Similar to <a href="https://webtorrent.io/">WebTorrent</a></p>
<p>Rust libp2p supports wasm.</p>
<h2 id="serveless-hosting"><a class="header" href="#serveless-hosting">Serveless hosting</a></h2>
<p>Also wasm doesn't mean only for browser environment, Iroh need to also support edge serverless computing like wasmedge, <a href="https://github.com/fermyon/spin">spin</a> or <a href="https://everywhere.computer/">everywhere computer</a></p>
<p><a href="https://github.com/n0-computer/iroh/issues/1803">Discussion</a></p>
<p>Rust libp2p supports wasm</p>
<h2 id="show-the-statistics"><a class="header" href="#show-the-statistics">Show the statistics</a></h2>
<p>Fetching files can be slow at times; instead of leaving the user confused about why the file is failing to fetch, it needs to display statistics like seeders, leechers, and trackers.</p>
<h2 id="split-files-into-chunks"><a class="header" href="#split-files-into-chunks">Split files into chunks</a></h2>
<p>The following file sharing example, only connects to the single peer to fetch the complete file. What if I connect to multiple peers, and fetch part of file from different peers, just like bittorrent does.</p>
<p>Doing it is not very hard, will try it while building dapps</p>
<p><a href="https://github.com/libp2p/rust-libp2p/discussions/5508">Discussion</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="podman-tutorial"><a class="header" href="#podman-tutorial">Podman Tutorial</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/YXfA5O5Mr18?si=coQxUI7YT-hMU8xB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<h2 id="installation-command"><a class="header" href="#installation-command">Installation command</a></h2>
<pre><code class="language-bash">sudo apt install podman	
podman machine init
podman machine start
podman info
podman version
</code></pre>
<h2 id="custom-container-and-registry-configuration"><a class="header" href="#custom-container-and-registry-configuration">Custom container and Registry Configuration</a></h2>
<p>Registries file</p>
<p>/etc/containers/registries.conf</p>
<p>Every time you try to connect the registries, this file is used.</p>
<p>You can also create a separate file in your user directory</p>
<p>$HOME/.config/containers/registries.conf</p>
<pre><code>mkdir .config/containers
hx .config/containers/registries.conf


unqualified-search-registries = ['docker.io', 'ghrc.io', 'quay.io']

</code></pre>
<h2 id="podman-search-registries"><a class="header" href="#podman-search-registries">Podman search registries</a></h2>
<pre><code>podman search &lt;image_name&gt;

podman search ubuntu
</code></pre>
<h2 id="pulling-a-container-image"><a class="header" href="#pulling-a-container-image">Pulling a container image</a></h2>
<pre><code>podman search &lt;image_name&gt;
podman pull &lt;image_name&gt;
podman images
</code></pre>
<pre><code>podman search ubuntu
podman pull docker.io/library/ubuntu	
</code></pre>
<h2 id="running-a-container-image"><a class="header" href="#running-a-container-image">Running a container image</a></h2>
<pre><code>podman run -it &lt;image_name&gt;
podman ps
podman ps -a
</code></pre>
<p>-it flag tells podman to allocate a virtual terminal session within the container.</p>
<p>To remove the container after execution</p>
<pre><code>podman run -it -rm &lt;image_name&gt;
</code></pre>
<p>podman ps shows only the container that are currently running.</p>
<p>To see all containers, including those that are not running use -a flag.</p>
<pre><code>podman run -it ubuntu	
</code></pre>
<p>ls : to view the folders</p>
<p>exit: to exit from the container</p>
<p>You can also stop the container by pressing Ctrl+C</p>
<p>Since we didn't specified the name using the flag -name, podman generated a name for us.</p>
<p>Best practice is not assign name, let podman assign the name to avoid conflits</p>
<h2 id="working-with-containers"><a class="header" href="#working-with-containers">Working with Containers</a></h2>
<pre><code>podman run --name &lt;container_name&gt; -p ext_port:int_porst &lt;container_image&gt;

// This start the container in detached mode, this means it runs in background
podman start &lt;container_name&gt;

podman inspect &lt;container_name&gt; 

// List all ports mapping in the container
podman port &lt;container_name&gt;

// To stop the container
podman stop &lt;container_name&gt;


// Remove the container
podman rm &lt;container_name&gt;


// Remove the container image, specify the image id
podman rmi &lt;container_image&gt;

// Check all the images in the system
podman images

// To get list of all commands

podman --help

</code></pre>
<h2 id="buidling-a-container-image"><a class="header" href="#buidling-a-container-image">Buidling a Container Image</a></h2>
<pre><code>hx Dockerfile  

podmand build -t &lt;image_name&gt; .

podman run --name &lt;container_name&gt; -p 8080:8080 &lt;image_name&gt;:&lt;tag&gt;

e.g.
podman run --name pdm-golang -p 8080:8080 pdm-golang:latest
</code></pre>
<h2 id="sharing-a-container-images"><a class="header" href="#sharing-a-container-images">Sharing a container images</a></h2>
<pre><code>podman login &lt;registry_name&gt;

podman build -t &lt;username&gt;/&lt;image_name&gt; .

podman push &lt;username&gt;/&lt;container_name&gt;  
</code></pre>
<p>Use dockerhub</p>
<pre><code>podman login docker.io

podman build -t reaudito/pdm-golang . 

podman push reaudito/pdm-golang

podman search pdm-golang

podman pull docker.io/reaudito/pdm-golang
  
</code></pre>
<h2 id="building-pod-with-podman"><a class="header" href="#building-pod-with-podman">Building Pod with Podman</a></h2>
<p>Pod are similar to kubernetes pods. They provide a way for applications to be organized and scaled within a Kubernets cluster.</p>
<p>Kubernetes API objects such as Deployments, ReplicaSets, and StatefulSets are used to manage them.</p>
<pre><code>podman pod --help


// Create a new empty pod
podman pod create --name &lt;pod_name&gt;

// List all created pods
podman pod ls


// List all the containers in the pod
podman ps -a --pod  
</code></pre>
<p>Pods are a group of one or more containers sharing the same network, pid and ipc namespaces.</p>
<pre><code>// Don't use podman name to avoid conflit, let podman assign it.
podman pod create --name pdm-golang-pod 

podman pod ls

</code></pre>
<p>You can see there is one container inside the pod pdm-golang-pod, but you created a empty pod, because podmand automatically added a infra container. Allow you to add container in the pod and also start and stop containers within the Pod by keeping the Pod running.</p>
<p>Default infra container is based on the image k8s.gcr.io/pause</p>
<p>You can display it</p>
<pre><code>podman ps -a --pod  
</code></pre>
<h2 id="working-with-containers-inside-a-pod-with-podman"><a class="header" href="#working-with-containers-inside-a-pod-with-podman">Working with containers inside a Pod with Podman</a></h2>
<pre><code>podman run -dt --pod &lt;pod_name&gt; &lt;container_image_name&gt;

podman pod start &lt;pod_name&gt;

podman pod stop &lt;pod_name&gt;

podman pod rm &lt;pod_name&gt;  
</code></pre>
<pre><code>podman run -dt -pod pdm-golang-pod pdm-golang  
</code></pre>
<p>Even if container is inside the pod, you can use all the avaiable commands to work with containers.</p>
<pre><code>// List all the pods
podman pod ls

podman pod stop pdm-golang-pod

podman pod start pdm-golang-pod

podman pod stop pdm-golang-pod

podman pod rm pdm-golang-pod  
</code></pre>
<h2 id="working-with-k8s-yaml-manifest"><a class="header" href="#working-with-k8s-yaml-manifest">Working with K8s YAML Manifest</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="podman-build"><a class="header" href="#podman-build">Podman build</a></h1>
<pre><code>podman build . -t=image1
podman run -d --name=container1 image1
</code></pre>
<p>Then podman build . -t=image1 and podman run -d --name=container1 image1 to start it detached.</p>
<h2 id="containerfile"><a class="header" href="#containerfile">Containerfile</a></h2>
<pre><code>FROM docker.io/library/ubuntu:22.04

# show backtraces
ENV RUST_BACKTRACE 1

# install tools and dependencies
RUN apt-get update &amp;&amp; \
	DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \
		ca-certificates &amp;&amp; \
# apt cleanup
	apt-get autoremove -y &amp;&amp; \
	apt-get clean &amp;&amp; \
	find /var/lib/apt/lists/ -type f -not -name lock -delete; \
# add user and link ~/.local/share/polkadot to /data
	useradd -m -u 1000 -U -s /bin/sh -d /polkadot polkadot &amp;&amp; \
	mkdir -p /data /polkadot/.local/share &amp;&amp; \
	chown -R polkadot:polkadot /data &amp;&amp; \
	ln -s /data /polkadot/.local/share/node-template

USER polkadot

# copy the compiled binary to the container
COPY --chown=polkadot:polkadot --chmod=774 target/release/node-template /usr/bin/node-template

# check if executable works in this container
RUN /usr/bin/node-template --version

# ws_port
EXPOSE 9930 9333 9944 30333 30334

CMD ["/usr/bin/node-template"]
</code></pre>
<h2 id="breakdown-of-file"><a class="header" href="#breakdown-of-file">Breakdown of file</a></h2>
<p>Here is a breakdown of the Dockerfile:</p>
<ol>
<li><code>FROM docker.io/library/ubuntu:22.04</code>: This line specifies the base image to use for the container. In this case, it is using the Ubuntu 22.04 image from the official Docker library.</li>
<li><code>ENV RUST_BACKTRACE 1</code>: This line sets an environment variable <code>RUST_BACKTRACE</code> to <code>1</code> inside the container. This variable controls whether Rust programs print a backtrace on panic.</li>
<li><code>RUN apt-get update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends ca-certificates</code>: This line runs a command inside the container to update the package repository and install the <code>ca-certificates</code> package. The <code>DEBIAN_FRONTEND=noninteractive</code> option tells <code>apt-get</code> to run in non-interactive mode, which means that it will not prompt the user for input during the installation process.</li>
<li><code>apt-get autoremove -y &amp;&amp; apt-get clean &amp;&amp; find /var/lib/apt/lists/ -type f -not -name lock -delete</code>: These lines perform some cleanup tasks after the package installation. The <code>apt-get autoremove -y</code> command removes any packages that were automatically installed as dependencies but are no longer needed. The <code>apt-get clean</code> command removes the package cache, and the <code>find</code> command deletes any leftover package list files.</li>
<li><code>useradd -m -u 1000 -U -s /bin/sh -d /polkadot polkadot</code>: This line creates a new user account inside the container with the username <code>polkadot</code>. The <code>-m</code> option creates a home directory for the user, the <code>-u 1000</code> option sets the user ID to 1000, the <code>-U</code> option creates a group with the same name as the user, the <code>-s /bin/sh</code> option sets the default shell to <code>/bin/sh</code>, and the <code>-d /polkadot</code> option sets the home directory to <code>/polkadot</code>.</li>
<li><code>mkdir -p /data /polkadot/.local/share &amp;&amp; chown -R polkadot:polkadot /data &amp;&amp; ln -s /data /polkadot/.local/share/node-template</code>: These lines create some directories and set up the permissions for the <code>polkadot</code> user. The <code>mkdir -p</code> command creates the <code>/data</code> and <code>/polkadot/.local/share</code> directories, the <code>chown -R</code> command changes the ownership of the <code>/data</code> directory to the <code>polkadot</code> user, and the <code>ln -s</code> command creates a symbolic link from <code>/data</code> to <code>/polkadot/.local/share/node-template</code>.</li>
<li><code>USER polkadot</code>: This line sets the user inside the container to the <code>polkadot</code> user that was created earlier. This means that any subsequent commands in the Dockerfile will be executed as the <code>polkadot</code> user.</li>
<li><code>COPY --chown=polkadot:polkadot --chmod=774 node-template /usr/bin/node-template</code>: This line copies the <code>node-template</code> binary from the host machine into the container and sets the ownership and permissions for the file. The <code>--chown</code> option sets the ownership of the file to the <code>polkadot</code> user and group, and the <code>--chmod</code> option sets the permissions to <code>774</code>, which means that the owner and group have read, write, and execute permissions, and others have only read and execute permissions.</li>
<li><code>RUN /usr/bin/node-template --version</code>: This line runs the <code>node-template</code> binary inside the container to check if it is working correctly. The <code>--version</code> option prints the version of the binary.</li>
<li><code>EXPOSE 9930 9333 9944 30333 30334</code>: This line exposes several ports on the container. This means that the application running inside the container will be accessible on these ports.</li>
<li><code>CMD ["/usr/bin/node-template"]</code>: This line sets the command that will be run when the container starts. In this case, it will run the <code>node-template</code> binary.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="find-line-numbers-of-files-in-a-folder"><a class="header" href="#find-line-numbers-of-files-in-a-folder">Find line numbers of files in a folder</a></h1>
<p><a href="https://stackoverflow.com/questions/4822471/count-number-of-lines-in-a-git-repository">https://stackoverflow.com/questions/4822471/count-number-of-lines-in-a-git-repository</a></p>
<pre><code class="language-sh">find . -type f -name '*.*' -exec wc -l {} + 
</code></pre>
<h2 id="get-line-numbers-of-rust-files"><a class="header" href="#get-line-numbers-of-rust-files">Get line numbers of rust files</a></h2>
<pre><code class="language-sh">find . -type f -name '*.rs' -exec wc -l {} + 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sharing-broadband-mesh-network"><a class="header" href="#sharing-broadband-mesh-network">Sharing Broadband, Mesh Network</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="5-stages-of-grief"><a class="header" href="#5-stages-of-grief">5 stages of grief</a></h1>
<p>The 7 stages of project:</p>
<ol>
<li>Denial</li>
<li>Anger</li>
<li>Bargaining</li>
<li>Depression</li>
<li>Acceptance</li>
<li>Saturday</li>
<li>Sunday</li>
</ol>
<p>The list you provided appears to be a humorous twist on the traditional "five stages of grief," which is a psychological model describing the emotional stages that people may go through when dealing with loss or difficult situations. In this humorous version:</p>
<ol>
<li>Denial: At the beginning of a project, people might deny the challenges or complexities it involves.</li>
<li>Anger: As the project progresses and difficulties arise, frustration and anger can be common reactions.</li>
<li>Bargaining: This stage might involve attempts to negotiate or find shortcuts to make the project easier.</li>
<li>Depression: When facing setbacks or obstacles, it's not uncommon for people to feel a sense of sadness or hopelessness.</li>
<li>Acceptance: Ultimately, people come to terms with the project and its challenges.</li>
</ol>
<p>The last two stages, "Saturday" and "Sunday," appear to be a playful addition and don't correspond to traditional project stages. They could suggest that, after the hard work of the project is done, people look forward to the weekend or a break. It's a lighthearted take on project management or dealing with challenges.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="awesome-gis"><a class="header" href="#awesome-gis">Awesome GIS</a></h1>
<p>Learning Geospatial Analysis with Python</p>
<p><a href="https://github.com/pka/awesome-georust">Awesome Georust</a></p>
<p><a href="https://github.com/geopolars/geopolars">Geo Polars</a></p>
<h2 id="visualization"><a class="header" href="#visualization">Visualization</a></h2>
<p><a href="https://github.com/plotters-rs/plotters">Plotters</a></p>
<p><a href="https://github.com/maplibre/maplibre-rs">Maplibre-rs</a></p>
<p><a href="https://github.com/abey79/vsvg">vsvg</a></p>
<p><a href="https://qgis.org">QGis</a></p>
<h2 id="ideas-to-build"><a class="header" href="#ideas-to-build">Ideas to build</a></h2>
<p><a href="https://www.geospatialworld.net/prime/interviews/building-the-worlds-first-blockchain-geospatial-network-backed-with-cryptography/">Building the World’s First Blockchain Geospatial Network Backed with Cryptography</a></p>
<p>XYO calls itself the world’s first Reality Oracle, which empowers people to participate in the global data economy through the validation of anonymous and secure geospatial data.</p>
<p>XYO has created a reliable Data Ocean, meaning it collects data from various sources and pools it together for verification and analysis. Just as rivers flow towards an ocean, “rivers” of data from the nodes in the XYO Network all run towards the larger XYO Data Ocean, providing an aggregated place for data. After the data is collected and aggregated, the cryptographic protocol can help validate and improve the trust for that collected data.</p>
<h3 id="geotagging"><a class="header" href="#geotagging">Geotagging</a></h3>
<p>Geotagging, or GeoTagging, is the process of adding geographical identification metadata to various media such as a geotagged photograph or video, websites, SMS messages, QR Codes or RSS feeds and is a form of geospatial metadata. This data usually consists of latitude and longitude coordinates, though they can also include altitude, bearing, distance, accuracy data, and place names, and perhaps a time stamp.</p>
<h3 id="environmental-monitoring"><a class="header" href="#environmental-monitoring">Environmental Monitoring</a></h3>
<p>Impact Assessment: Monitor environmental impacts of business operations, such as pollution levels, deforestation, or water usage.</p>
<p>Regulatory Compliance: Ensure compliance with environmental regulations by tracking and reporting necessary data.</p>
<p>e.g. Monetizing tree plantation with blockchain and monitoring it with GIS.</p>
<h3 id="supply-chain-and-logistics-optimization"><a class="header" href="#supply-chain-and-logistics-optimization">Supply Chain and Logistics Optimization</a></h3>
<p>Route Optimization: Use GIS to determine the most efficient delivery routes, reducing fuel costs and delivery times.</p>
<p>Asset Tracking: Monitor the location of assets in real-time, ensuring better management and reducing the risk of theft or loss.</p>
<h3 id="agriculture"><a class="header" href="#agriculture">Agriculture</a></h3>
<p>Precision Farming: Use GIS to monitor crop health, soil conditions, and weather patterns, optimizing planting and harvesting schedules.</p>
<p>Resource Management: Track the usage of water, fertilizers, and pesticides to ensure sustainable farming practices.</p>
<h3 id="urban-planning"><a class="header" href="#urban-planning">Urban Planning</a></h3>
<p>Smart Cities: Implement GIS in urban planning to develop smart city initiatives, such as traffic management, waste management, and public safety.</p>
<p>Public Services: Optimize the location and distribution of public services like schools, hospitals, and parks.</p>
<h3 id="healthcare"><a class="header" href="#healthcare">Healthcare</a></h3>
<p>Epidemiology: Track the spread of diseases geographically to plan public health responses.</p>
<p>Resource Allocation: Optimize the placement of healthcare facilities and resources based on population health data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uv"><a class="header" href="#uv">UV</a></h1>
<p>An extremely fast Python package and project manager, written in Rust.</p>
<p><a href="https://docs.astral.sh/uv/">https://docs.astral.sh/uv/</a></p>
<pre><code class="language-sh">uv init example


cd example

uv add ruff






uv run ruff check
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="disk-fix"><a class="header" href="#disk-fix">Disk Fix</a></h1>
<p>Check Disk Label and Partition:</p>
<p>Ensure the disk label and partition are correctly set up. Use <code>sudo fdisk -l</code> to list all partitions and verify the correct device and partition.</p>
<pre><code class="language-bash">sudo fdisk -l
</code></pre>
<pre><code class="language-bash">sudo apt install nfs-common cifs-utils
</code></pre>
<pre><code class="language-bash">sudo ntfsfix -d /dev/sdb1
</code></pre>
<pre><code class="language-bash">sudo fsck /dev/sdb1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="image-commands"><a class="header" href="#image-commands">Image commands</a></h1>
<pre><code class="language-bash">sudo snap install pdftk

pdftk file1.pdf file2.pdf cat output mergedfile.pdf


pdftk full-pdf.pdf cat 12-15 output outfile_p12-15.pdf
</code></pre>
<h2 id="svg-to-pdf"><a class="header" href="#svg-to-pdf">svg to pdf</a></h2>
<pre><code class="language-bash">sudo apt-get install librsvg2-bin

rsvg-convert -f pdf -o foo.pdf foo.svg


inkscape "$pdf" -z --export-dpi=600 --export-area-drawing --export-png="$pngfile"
</code></pre>
<h2 id="images-to-pdf"><a class="header" href="#images-to-pdf">images to pdf</a></h2>
<pre><code class="language-bash">convert image.jpg image2.jpg image3.jpg  output.pdf
</code></pre>
<h1 id="pdf-to-images"><a class="header" href="#pdf-to-images">Pdf to images</a></h1>
<pre><code class="language-bash">sudo apt-get install poppler-utils

pdftocairo -png file.pdf  image_file.png
</code></pre>
<h1 id="crop-video"><a class="header" href="#crop-video">Crop video</a></h1>
<p>It crops from 01:00:00.0 than 2 minutes.</p>
<pre><code class="language-bash">ffmpeg -ss 01:00:00.0 -i video.mp4 -t 00:02:00 -c copy cropped_video.mp4
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ncdu"><a class="header" href="#ncdu">ncdu</a></h1>
<pre><code>sudo apt-get install ncdu
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ollama"><a class="header" href="#ollama">Ollama</a></h1>
<h2 id="store-mode-in-external-hardisk"><a class="header" href="#store-mode-in-external-hardisk">Store mode in external hardisk</a></h2>
<p><a href="https://github.com/ollama/ollama/issues/2322">https://github.com/ollama/ollama/issues/2322</a></p>
<pre><code class="language-bash">export OLLAMA_MODELS=/path/to/my/disk/models

export OLLAMA_MODELS=/media/amiya/Elements/ollama/models
./ollama serve
</code></pre>
<h2 id="resume-download"><a class="header" href="#resume-download">Resume download</a></h2>
<p><a href="https://github.com/ollama/ollama/issues/695">https://github.com/ollama/ollama/issues/695</a></p>
<pre><code class="language-bash">export OLLAMA_NOPRUNE=true ollama serve
</code></pre>
<h2 id="deepseek"><a class="header" href="#deepseek">Deepseek</a></h2>
<p><a href="https://ollama.com/library/deepseek-r1:1.5b">https://ollama.com/library/deepseek-r1:1.5b</a></p>
<p>1.1 GB</p>
<pre><code class="language-bash">ollama run deepseek-r1:1.5b
</code></pre>
<h2 id="ubuntu-stop-and-start"><a class="header" href="#ubuntu-stop-and-start">Ubuntu Stop and start</a></h2>
<pre><code class="language-bash">sudo service ollama stop
sudo service ollama start
</code></pre>
<pre><code class="language-bash">sudo systemctl edit ollama.service


[Service]
Environment="OLLAMA_MODELS=/media/amiya/Elements/ollama/models"

sudo systemctl daemon-reload
sudo systemctl restart ollama

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="open-tts"><a class="header" href="#open-tts">Open TTS</a></h1>
<pre><code class="language-bash">docker run -it -p 5500:5500 synesthesiam/opentts:en
</code></pre>
<p><a href="https://github.com/synesthesiam/opentts">https://github.com/synesthesiam/opentts</a></p>
<p>Visit <a href="http://localhost:5500">http://localhost:5500</a></p>
<p>For HTTP API test page, visit <a href="http://localhost:5500/openapi/">http://localhost:5500/openapi/</a></p>
<pre><code class="language-xml">&lt;speak&gt;
  Sentences outside any tags are spoken by the selected voice.
  &lt;s&gt;
    You can manually separate sentences &lt;w&gt;and&lt;/w&gt;&lt;w&gt;words&lt;/w&gt;.
  &lt;/s&gt;

  &lt;voice name="coqui-tts:en_vctk#p228"&gt;
    &lt;s&gt;
      The current voice can be changed, even to a different text to speech system!
    &lt;/s&gt;
  &lt;/voice&gt;

  &lt;voice name="coqui-tts:en_ljspeech"&gt;
    &lt;s&gt;
      Default voices exist for all of the supported languages.
    &lt;/s&gt;
  &lt;/voice&gt;

  &lt;voice name="coqui-tts:en_vctk#p228"&gt;
    &lt;s&gt;Breaks are possible&lt;/s&gt;
    &lt;break time="0.5s" /&gt;
    &lt;s&gt;between sentences.&lt;/s&gt;
  &lt;/voice&gt;
&lt;/speak&gt;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
            window.addEventListener('load', function () {
                MathJax.Hub.Register.StartupHook('End', function () {
                    window.setTimeout(window.print, 100);
                });
            });
        </script>


       

        <script type="text/javascript">
            function googleTranslateElementInit() {
                new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
            }
        </script>

        <script type="text/javascript"
            src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


    </div>
     
</body>

</html>